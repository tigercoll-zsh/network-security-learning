# Day025ï¼šæ¼æ´æ‰«æä¸åŸºçº¿ - Web ä¸­é—´ä»¶æš´éœ²é¢ä¸åŠ å›º

- æ—¥æœŸï¼š2026-01-18
- å‘¨æ¬¡ï¼šç¬¬4å‘¨

## å­¦ä¹ ç›®æ ‡

ä»Šå¤©ä½ å°†æŒæ¡ï¼š

- **è¯†åˆ«å¸¸è§ä¸­é—´ä»¶çš„é»˜è®¤é…ç½®é£é™©**ï¼šNginx/Apache/IIS çš„ç›®å½•åˆ—å‡ºã€ç‰ˆæœ¬ä¿¡æ¯æ³„éœ²ã€é»˜è®¤é…ç½®å¼±ç‚¹
- **èƒ½ç»™å‡ºåŸºç¡€åŠ å›ºå»ºè®®**ï¼šå…³é—­ç›®å½•åˆ—å‡ºã€éšè—ç‰ˆæœ¬å·ã€é™åˆ¶ HTTP æ–¹æ³•ã€é…ç½®å®‰å…¨å“åº”å¤´
- **èƒ½ç‹¬ç«‹ä¿®æ”¹ä¸­é—´ä»¶é…ç½®**ï¼šåœ¨åˆæ³•é¶åœºç¯å¢ƒæˆ–æµ‹è¯•ç¯å¢ƒä¸­éªŒè¯åŠ å›ºæ•ˆæœ
- **ç†è§£å¸¸è§ Web æ¼æ´ä¸é…ç½®çš„å…³ç³»**ï¼šå¦‚æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€è·¯å¾„éå†ã€æœªæˆæƒè®¿é—®

---

## å­¦ä¹ å†…å®¹

### 1ï¸âƒ£ Web ä¸­é—´ä»¶å¸¸è§æš´éœ²é¢

#### 1.1 ç›®å½•åˆ—å‡ºï¼ˆDirectory Listingï¼‰

**é£é™©è¯´æ˜**ï¼š

å½“ç›®å½•åˆ—å‡ºåŠŸèƒ½å¼€å¯æ—¶ï¼Œæ”»å‡»è€…å¯ä»¥ç›´æ¥æµè§ˆç½‘ç«™ç›®å½•ç»“æ„ï¼Œå¯èƒ½å‘ç°ï¼š
- å¤‡ä»½æ–‡ä»¶ï¼ˆ`.bak`ã€`.sql`ã€`.zip`ï¼‰
- é…ç½®æ–‡ä»¶ï¼ˆ`config.php`ã€`database.yml`ï¼‰
- æ•æ„Ÿç›®å½•ï¼ˆ`admin`ã€`uploads`ã€`logs`ï¼‰
- æºä»£ç æ–‡ä»¶

**å„ä¸­é—´ä»¶é…ç½®å¯¹æ¯”**ï¼š

| ä¸­é—´ä»¶ | é»˜è®¤è¡Œä¸º | é…ç½®æ–‡ä»¶ | å…³é—­å‘½ä»¤ |
|--------|---------|---------|---------|
| **Nginx** | é»˜è®¤å…³é—­ | `nginx.conf` / ç«™ç‚¹é…ç½® | `autoindex off;` |
| **Apache** | é»˜è®¤å¼€å¯ | `httpd.conf` / `.htaccess` | `Options -Indexes` |
| **IIS** | éœ€æ‰‹åŠ¨å¼€å¯ | `web.config` / IIS ç®¡ç†å™¨ | `<directoryBrowse enabled="false" />` |

**å®é™…å±å®³æ¡ˆä¾‹**ï¼š

```
http://example.com/uploads/
â”œâ”€â”€ backup_202501.zip        # å®Œæ•´ç½‘ç«™å¤‡ä»½
â”œâ”€â”€ database_dump.sql         # æ•°æ®åº“å¯¼å‡ºæ–‡ä»¶
â””â”€â”€ old_files/                # æ—§ç‰ˆæœ¬æºä»£ç 
```

---

#### 1.2 ç‰ˆæœ¬ä¿¡æ¯æ³„éœ²ï¼ˆVersion Disclosureï¼‰

**é£é™©è¯´æ˜**ï¼š

æš´éœ²ä¸­é—´ä»¶ç‰ˆæœ¬å·å¯ä»¥å¸®åŠ©æ”»å‡»è€…ï¼š
- æœç´¢å·²çŸ¥ CVE æ¼æ´
- å®šåˆ¶ç‰¹å®šç‰ˆæœ¬çš„æ”»å‡» payload
- è¯„ä¼°ç›®æ ‡ç³»ç»Ÿç»´æŠ¤çŠ¶å†µ

**æ£€æµ‹æ–¹æ³•**ï¼š

```bash
# ä½¿ç”¨ curl æŸ¥çœ‹å“åº”å¤´
curl -I http://example.com

# å…¸å‹æš´éœ²ç¤ºä¾‹ï¼ˆä¸å®‰å…¨ï¼‰
Server: nginx/1.18.0
Server: Apache/2.4.41 (Ubuntu)
X-Powered-By: PHP/8.1.2
```

**å„ä¸­é—´ä»¶éšè—ç‰ˆæœ¬é…ç½®**ï¼š

| ä¸­é—´ä»¶ | é…ç½®é¡¹ | é…ç½®ç¤ºä¾‹ |
|--------|-------|---------|
| **Nginx** | `server_tokens` | `server_tokens off;` |
| **Apache** | `ServerTokens` | `ServerTokens Prod` |
| **Apache** | `ServerSignature` | `ServerSignature Off` |
| **IIS** | è‡ªå®šä¹‰å“åº”å¤´ | `Remove-WebManagedHandler` / ä¿®æ”¹ URL Rewrite |

**Nginx éšè—ç‰ˆæœ¬ç¤ºä¾‹**ï¼š

```nginx
# nginx.conf http åŒºå—
http {
    server_tokens off;
    
    # é¢å¤–ï¼šéšè— X-Powered-By å¤´
    proxy_hide_header X-Powered-By;
}
```

---

#### 1.3 HTTP æ–¹æ³•é™åˆ¶ï¼ˆHTTP Method Restrictionsï¼‰

**å¸¸è§ HTTP æ–¹æ³•ä¸é£é™©**ï¼š

| æ–¹æ³• | ç”¨é€” | å…¬å¼€è®¿é—®é£é™© |
|------|------|-------------|
| **GET** | è·å–èµ„æº | âœ… å…è®¸ |
| **POST** | æäº¤æ•°æ® | âœ… å…è®¸ |
| **HEAD** | è·å–å“åº”å¤´ | âš ï¸ ä¿¡æ¯æ³„éœ² |
| **OPTIONS** | æŸ¥è¯¢å¯ç”¨æ–¹æ³• | âš ï¸ æš´éœ²æœåŠ¡ç«¯èƒ½åŠ› |
| **PUT/DELETE** | ä¸Šä¼ /åˆ é™¤æ–‡ä»¶ | ğŸš¨ æ–‡ä»¶æ“ä½œæ¼æ´ |
| **TRACE** | å›æ˜¾è¯·æ±‚ï¼ˆç”¨äºè°ƒè¯•ï¼‰ | ğŸš¨ è·¨ç«™è¿½è¸ªæ”»å‡»ï¼ˆXSTï¼‰ |
| **PATCH** | éƒ¨åˆ†æ›´æ–°èµ„æº | âš ï¸ éœ€è¦è®¤è¯ |

**é…ç½®é™åˆ¶æ–¹æ³•**ï¼š

**Nginx**ï¼š
```nginx
server {
    # åªå…è®¸ GET POST HEAD
    if ($request_method !~ ^(GET|POST|HEAD)$ ) {
        return 405;
    }
    
    # ç¦æ­¢ TRACE
    if ($request_method = TRACE ) {
        return 403;
    }
}
```

**Apache**ï¼š
```apache
# ç¦æ­¢ TRACE å’Œ TRACK
TraceEnable Off

# é™åˆ¶å…è®¸çš„æ–¹æ³•
<LimitExcept GET POST HEAD>
    Require all denied
</LimitExcept>
```

**IIS**ï¼š
```xml
<system.webServer>
  <handlers>
    <remove name="TRACEVerbHandler" />
    <remove name="OPTIONSVerbHandler" />
  </handlers>
</system.webServer>
```

---

#### 1.4 å®‰å…¨å“åº”å¤´ï¼ˆSecurity Response Headersï¼‰

**æ ¸å¿ƒå®‰å…¨å¤´éƒ¨æ¸…å•**ï¼š

| å¤´éƒ¨ | ä½œç”¨ | æ¨èå€¼ |
|------|------|-------|
| **X-Frame-Options** | é˜²æ­¢ç‚¹å‡»åŠ«æŒ | `DENY` æˆ– `SAMEORIGIN` |
| **X-Content-Type-Options** | é˜²æ­¢ MIME å—…æ¢ | `nosniff` |
| **X-XSS-Protection** | XSS è¿‡æ»¤å™¨ï¼ˆæ—§ç‰ˆæµè§ˆå™¨ï¼‰ | `1; mode=block` |
| **Content-Security-Policy** | å†…å®¹å®‰å…¨ç­–ç•¥ | è‡ªå®šä¹‰ç™½åå• |
| **Strict-Transport-Security** | å¼ºåˆ¶ HTTPS | `max-age=31536000` |
| **Referrer-Policy** | æ§åˆ¶ Referer ä¿¡æ¯ | `strict-origin-when-cross-origin` |

**é…ç½®ç¤ºä¾‹**ï¼š

**Nginx**ï¼š
```nginx
add_header X-Frame-Options "SAMEORIGIN" always;
add_header X-Content-Type-Options "nosniff" always;
add_header X-XSS-Protection "1; mode=block" always;
add_header Referrer-Policy "strict-origin-when-cross-origin" always;
add_header Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline';" always;
```

**Apache**ï¼š
```apache
<IfModule mod_headers.c>
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-XSS-Protection "1; mode=block"
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>
```

---

#### 1.5 æ—¥å¿—é…ç½®ï¼ˆLoggingï¼‰

**æ—¥å¿—ç±»å‹ä¸ç”¨é€”**ï¼š

| æ—¥å¿—ç±»å‹ | è®°å½•å†…å®¹ | ç”¨é€” |
|---------|---------|------|
| **è®¿é—®æ—¥å¿—** | è¯·æ±‚æ—¶é—´ã€IPã€URLã€çŠ¶æ€ç  | æµé‡åˆ†æã€å¼‚å¸¸æ£€æµ‹ |
| **é”™è¯¯æ—¥å¿—** | é”™è¯¯è¯¦æƒ…ã€å †æ ˆè·Ÿè¸ª | æ•…éšœæ’æŸ¥ã€æ”»å‡»è¯†åˆ« |
| **å®‰å…¨æ—¥å¿—** | è®¤è¯å¤±è´¥ã€æ‹’ç»è®¿é—® | å®‰å…¨äº‹ä»¶æº¯æº |

**Nginx æ—¥å¿—é…ç½®**ï¼š

```nginx
http {
    # è‡ªå®šä¹‰è®¿é—®æ—¥å¿—æ ¼å¼ï¼ˆåŒ…å«æ›´å¤šå®‰å…¨ç›¸å…³ä¿¡æ¯ï¼‰
    log_format security '$remote_addr - $remote_user [$time_local] '
                       '"$request" $status $body_bytes_sent '
                       '"$http_referer" "$http_user_agent" '
                       '$request_time $upstream_response_time';

    access_log /var/log/nginx/access.log security;
    error_log /var/log/nginx/error.log warn;
}
```

---

### 2ï¸âƒ£ å„ä¸­é—´ä»¶åŸºç¡€åŠ å›ºé…ç½®

#### 2.1 Nginx å®Œæ•´å®‰å…¨é…ç½®ç¤ºä¾‹

```nginx
# /etc/nginx/nginx.conf å®‰å…¨é…ç½®
user www-data;
worker_processes auto;
pid /run/nginx.pid;

events {
    worker_connections 1024;
}

http {
    # 1. éšè—ç‰ˆæœ¬å·
    server_tokens off;
    
    # 2. å®¢æˆ·ç«¯è¯·æ±‚ä½“å¤§å°é™åˆ¶ï¼ˆé˜²æ­¢å¤§æ–‡ä»¶ä¸Šä¼ æ”»å‡»ï¼‰
    client_max_body_size 10M;
    
    # 3. è¶…æ—¶è®¾ç½®
    client_body_timeout 12;
    client_header_timeout 12;
    keepalive_timeout 15;
    send_timeout 10;
    
    # 4. å®‰å…¨å“åº”å¤´
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
    
    # 5. æ—¥å¿—é…ç½®
    log_format security '$remote_addr - $remote_user [$time_local] '
                       '"$request" $status $body_bytes_sent '
                       '"$http_referer" "$http_user_agent"';
    
    access_log /var/log/nginx/access.log security;
    error_log /var/log/nginx/error.log warn;
    
    # 6. ç¦æ­¢ä¸å®‰å…¨çš„ HTTP æ–¹æ³•
    if ($request_method !~ ^(GET|POST|HEAD)$ ) {
        return 405;
    }
    
    # 7. é™åˆ¶è¯·æ±‚é€Ÿç‡ï¼ˆé˜²æ­¢ DDoSï¼‰
    limit_req_zone $binary_remote_addr zone=one:10m rate=10r/s;
    
    server {
        listen 80;
        server_name example.com;
        
        # å…³é—­ç›®å½•åˆ—å‡º
        autoindex off;
        
        # é™åˆ¶è¯·æ±‚é€Ÿç‡
        limit_req zone=one burst=20 nodelay;
        
        root /var/www/html;
        index index.html index.php;
        
        location ~ /\. {
            deny all;  # éšè—éšè—æ–‡ä»¶
        }
    }
}
```

---

#### 2.2 Apache å®Œæ•´å®‰å…¨é…ç½®ç¤ºä¾‹

```apache
# /etc/apache2/apache2.conf å®‰å…¨é…ç½®

# 1. éšè—ç‰ˆæœ¬ä¿¡æ¯
ServerTokens Prod
ServerSignature Off

# 2. ç¦ç”¨ TRACE æ–¹æ³•
TraceEnable Off

# 3. å…³é—­ç›®å½•åˆ—å‡º
<Directory /var/www/html>
    Options -Indexes +FollowSymLinks
    AllowOverride None
    Require all granted
</Directory>

# 4. é™åˆ¶è¯·æ±‚å¤§å°ï¼ˆé˜²æ­¢ DoSï¼‰
LimitRequestBody 10485760
LimitRequestFields 100
LimitRequestFieldSize 8190
LimitRequestLine 8190

# 5. è¯·æ±‚è¶…æ—¶
RequestReadTimeout header=20-40,MinRate=500 body=20,MinRate=500

# 6. å®‰å…¨å“åº”å¤´
<IfModule mod_headers.c>
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# 7. æ—¥å¿—é…ç½®
LogFormat "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined
CustomLog ${APACHE_LOG_DIR}/access.log combined
ErrorLog ${APACHE_LOG_DIR}/error.log

# 8. é˜²æ­¢ç‚¹å‡»åŠ«æŒ
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{HTTP_REFERER} !^$
    RewriteCond %{HTTP_REFERER} !^https?://yourdomain\.com [NC]
    RewriteRule .* - [F]
</IfModule>
```

---

#### 2.3 IIS å®Œæ•´å®‰å…¨é…ç½®ç¤ºä¾‹

**web.config æ–‡ä»¶é…ç½®**ï¼š

```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <!-- 1. å…³é—­ç›®å½•æµè§ˆ -->
    <directoryBrowse enabled="false" />
    
    <!-- 2. ç¦ç”¨ä¸å®‰å…¨çš„ HTTP æ–¹æ³• -->
    <handlers>
      <remove name="TRACEVerbHandler" />
      <remove name="OPTIONSVerbHandler" />
    </handlers>
    
    <!-- 3. è¯·æ±‚è¿‡æ»¤ -->
    <security>
      <requestFiltering>
        <!-- é™åˆ¶æœ€å¤§è¯·æ±‚å†…å®¹é•¿åº¦ -->
        <requestLimits maxAllowedContentLength="10485760" />
        <!-- é™åˆ¶ URL æœ€å¤§é•¿åº¦ -->
        <requestLimits maxUrl="4096" maxQueryString="2048" />
        <!-- é˜»æ­¢ç‰¹å®šæ–‡ä»¶æ‰©å±•å -->
        <fileExtensions>
          <add fileExtension=".bak" allowed="false" />
          <add fileExtension=".log" allowed="false" />
          <add fileExtension=".sql" allowed="false" />
        </fileExtensions>
        <!-- é˜»æ­¢ç‰¹å®š URL åºåˆ— -->
        <denyUrlSequences>
          <add sequence=".." />
        </denyUrlSequences>
      </requestFiltering>
      
      <!-- 4. IP é™åˆ¶ï¼ˆå¯é€‰ï¼‰ -->
      <ipSecurity allowUnlisted="true">
        <clear />
        <add ipAddress="192.168.1.0" subnetMask="255.255.255.0" allowed="true" />
      </ipSecurity>
    </security>
    
    <!-- 5. HTTP å“åº”å¤´ -->
    <httpProtocol>
      <customHeaders>
        <add name="X-Frame-Options" value="SAMEORIGIN" />
        <add name="X-Content-Type-Options" value="nosniff" />
        <add name="X-XSS-Protection" value="1; mode=block" />
      </customHeaders>
    </httpProtocol>
    
    <!-- 6. é”™è¯¯é¡µé¢ï¼ˆéšè—è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼‰ -->
    <httpErrors>
      <remove statusCode="500" subStatusCode="-1" />
      <remove statusCode="404" subStatusCode="-1" />
      <error statusCode="404" path="/404.html" responseMode="File" />
      <error statusCode="500" path="/500.html" responseMode="File" />
    </httpErrors>
    
    <!-- 7. æ—¥å¿—é…ç½® -->
    <logFile logExtFileFlags="Date,Time,ClientIP,UserName,SiteName,ComputerName,ServerIP,Method,UriStem,UriQuery,HttpStatus,Win32Status,BytesSent,BytesRecv,TimeTaken,ServerPort,UserAgent,Cookie,Referer,ProtocolVersion,Host,HttpSubStatus" />
  </system.webServer>
</configuration>
```

---

### 3ï¸âƒ£ éªŒè¯åŠ å›ºæ•ˆæœ

#### 3.1 ä½¿ç”¨ curl æ£€æŸ¥å“åº”å¤´

```bash
# æ£€æŸ¥ Server å¤´ï¼ˆåº”éšè—ç‰ˆæœ¬ä¿¡æ¯ï¼‰
curl -I http://localhost:8080

# é¢„æœŸç»“æœï¼ˆå®‰å…¨ï¼‰
Server: nginx

# ä¸å®‰å…¨ç»“æœ
Server: nginx/1.18.0 (Ubuntu)

# æ£€æŸ¥å®‰å…¨å“åº”å¤´
curl -I http://localhost:8080 2>&1 | grep -i "x-"

# é¢„æœŸç»“æœ
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
```

#### 3.2 æµ‹è¯•ç›®å½•åˆ—å‡º

```bash
# è®¿é—®æ—  index æ–‡ä»¶çš„ç›®å½•
curl http://localhost:8080/uploads/

# å¦‚æœè¿”å›ç›®å½•åˆ—è¡¨ï¼ˆä¸å®‰å…¨ï¼‰
Index of /uploads/
...
backup.zip
config.php

# é¢„æœŸç»“æœï¼ˆå®‰å…¨ï¼‰
403 Forbidden
æˆ–
404 Not Found
```

#### 3.3 æµ‹è¯• HTTP æ–¹æ³•é™åˆ¶

```bash
# æµ‹è¯• PUT æ–¹æ³•ï¼ˆåº”è¢«æ‹’ç»ï¼‰
curl -X PUT http://localhost:8080/test.txt -d "hello"

# é¢„æœŸç»“æœ
405 Method Not Allowed

# æµ‹è¯• TRACE æ–¹æ³•ï¼ˆåº”è¢«æ‹’ç»ï¼‰
curl -X TRACE http://localhost:8080/ -v

# é¢„æœŸç»“æœ
403 Forbidden
```

#### 3.4 ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·

1. æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. åˆ‡æ¢åˆ° Network æ ‡ç­¾
3. åˆ·æ–°é¡µé¢ï¼Œç‚¹å‡»ä»»æ„è¯·æ±‚
4. æŸ¥çœ‹ Response Headers æ ‡ç­¾
5. ç¡®è®¤å®‰å…¨å¤´éƒ¨å·²æ­£ç¡®æ·»åŠ 

---

## å®è·µä»»åŠ¡ï¼ˆåˆæ³•æˆæƒèŒƒå›´å†…ï¼‰

> **æ³¨æ„**ï¼šä»¥ä¸‹ä»»åŠ¡è¯·åœ¨ä½ è‡ªå·±çš„æµ‹è¯•ç¯å¢ƒã€è™šæ‹Ÿæœºæˆ–æˆæƒé¶åœºä¸­æ‰§è¡Œã€‚ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éšæ„ä¿®æ”¹é…ç½®ã€‚

---

### ä»»åŠ¡ 1ï¼ˆå¿…åšï¼‰ï¼šæ£€æŸ¥å½“å‰é…ç½®çš„æš´éœ²é¢

**ç›®æ ‡**ï¼šæ‰«æä½ çš„æµ‹è¯• Web æœåŠ¡å™¨ï¼Œè¯†åˆ«é»˜è®¤é…ç½®é£é™©ã€‚

**æ­¥éª¤**ï¼š

1. **æ‰«æç›®å½•åˆ—å‡ºé£é™©**

```bash
# Linux/Mac
curl http://localhost/uploads/
curl http://localhost/backup/

# Windows PowerShell
curl http://localhost/uploads/
curl http://localhost/backup/
```

è®°å½•ç»“æœï¼šæ˜¯å¦å­˜åœ¨ç›®å½•åˆ—å‡ºï¼Ÿå¦‚æœå­˜åœ¨ï¼Œæœ‰å“ªäº›æ•æ„Ÿæ–‡ä»¶å¯è§ï¼Ÿ

2. **æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯æ³„éœ²**

```bash
curl -I http://localhost/

# æŸ¥çœ‹å“åº”å¤´ä¸­çš„ Server å’Œ X-Powered-By
```

è®°å½•ç»“æœï¼š
- Server å¤´æ˜¾ç¤ºä»€ä¹ˆä¿¡æ¯ï¼Ÿ
- X-Powered-By å¤´æ˜¯å¦å­˜åœ¨ï¼Ÿ

3. **æµ‹è¯• HTTP æ–¹æ³•**

```bash
# æµ‹è¯• TRACE æ–¹æ³•
curl -X TRACE http://localhost/ -v

# æµ‹è¯• OPTIONS æ–¹æ³•
curl -X OPTIONS http://localhost/ -v

# æµ‹è¯• PUT æ–¹æ³•
curl -X PUT http://localhost/test.txt -d "hello world" -v
```

è®°å½•ç»“æœï¼š
- å“ªäº›æ–¹æ³•è¢«å…è®¸ï¼Ÿ
- å“ªäº›æ–¹æ³•åº”è¯¥è¢«ç¦æ­¢ï¼Ÿ

---

### ä»»åŠ¡ 2ï¼ˆå¿…åšï¼‰ï¼šé…ç½® Nginx å®‰å…¨åŠ å›º

**å‰ç½®æ¡ä»¶**ï¼šæœ¬åœ°æˆ–è™šæ‹Ÿæœºä¸Šå·²å®‰è£… Nginx

**æ­¥éª¤ 1ï¼šå¤‡ä»½åŸå§‹é…ç½®**

```bash
sudo cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.backup
```

**æ­¥éª¤ 2ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶**

ç¼–è¾‘ `/etc/nginx/nginx.conf`ï¼Œæ·»åŠ ä»¥ä¸‹å®‰å…¨é…ç½®ï¼š

```nginx
http {
    # 1. éšè—ç‰ˆæœ¬å·
    server_tokens off;
    
    # 2. å…³é—­ç›®å½•åˆ—å‡ºï¼ˆåœ¨ server å—ä¸­ï¼‰
    # autoindex off;
    
    # 3. ç¦æ­¢ä¸å®‰å…¨çš„ HTTP æ–¹æ³•
    if ($request_method !~ ^(GET|POST|HEAD)$ ) {
        return 405;
    }
    
    # 4. æ·»åŠ å®‰å…¨å“åº”å¤´
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
    
    # ... å…¶ä»–é…ç½®ä¿æŒä¸å˜
}
```

**æ­¥éª¤ 3ï¼šé‡å¯ Nginx**

```bash
# æµ‹è¯•é…ç½®æ–‡ä»¶è¯­æ³•
sudo nginx -t

# é‡å¯æœåŠ¡
sudo systemctl restart nginx

# æˆ– Windows
nginx -s reload
```

**æ­¥éª¤ 4ï¼šéªŒè¯åŠ å›ºæ•ˆæœ**

```bash
# 1. å†æ¬¡æ£€æŸ¥ Server å¤´
curl -I http://localhost/

# 2. æµ‹è¯•ç¦ç”¨çš„ HTTP æ–¹æ³•
curl -X TRACE http://localhost/
curl -X PUT http://localhost/test.txt -d "test"

# 3. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹å®‰å…¨å“åº”å¤´
```

**å¯¹æ¯”è¡¨**ï¼š

| æ£€æŸ¥é¡¹ | åŠ å›ºå‰ | åŠ å›ºå | è¯´æ˜ |
|--------|-------|-------|------|
| Server å¤´ | `nginx/1.18.0` | `nginx` | âœ… éšè—ç‰ˆæœ¬å· |
| ç›®å½•åˆ—å‡º | æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨ | 403 Forbidden | âœ… å·²ç¦ç”¨ |
| TRACE æ–¹æ³• | å…è®¸ | 405 Method Not Allowed | âœ… å·²ç¦æ­¢ |
| PUT æ–¹æ³• | å…è®¸ | 405 Method Not Allowed | âœ… å·²ç¦æ­¢ |
| X-Frame-Options | æ—  | SAMEORIGIN | âœ… å·²æ·»åŠ  |

---

### ä»»åŠ¡ 3ï¼ˆè¿›é˜¶ï¼‰ï¼šé…ç½® Apache å®‰å…¨åŠ å›º

**å‰ç½®æ¡ä»¶**ï¼šæœ¬åœ°æˆ–è™šæ‹Ÿæœºä¸Šå·²å®‰è£… Apache

**æ­¥éª¤ 1ï¼šå¤‡ä»½é…ç½®**

```bash
sudo cp /etc/apache2/apache2.conf /etc/apache2/apache2.conf.backup
```

**æ­¥éª¤ 2ï¼šä¿®æ”¹é…ç½®**

ç¼–è¾‘ `/etc/apache2/apache2.conf` æˆ–ç«™ç‚¹é…ç½®æ–‡ä»¶ï¼š

```apache
# 1. éšè—ç‰ˆæœ¬ä¿¡æ¯
ServerTokens Prod
ServerSignature Off

# 2. ç¦ç”¨ TRACE æ–¹æ³•
TraceEnable Off

# 3. å…³é—­ç›®å½•åˆ—å‡º
<Directory /var/www/html>
    Options -Indexes +FollowSymLinks
    # ...
</Directory>

# 4. é™åˆ¶å…è®¸çš„ HTTP æ–¹æ³•
<LimitExcept GET POST HEAD>
    Require all denied
</LimitExcept>

# 5. æ·»åŠ å®‰å…¨å“åº”å¤´
<IfModule mod_headers.c>
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>
```

**æ­¥éª¤ 3ï¼šå¯ç”¨å¿…è¦æ¨¡å—å¹¶é‡å¯**

```bash
# å¯ç”¨ headers æ¨¡å—
sudo a2enmod headers

# æµ‹è¯•é…ç½®
sudo apache2ctl configtest

# é‡å¯æœåŠ¡
sudo systemctl restart apache2
```

**æ­¥éª¤ 4ï¼šéªŒè¯åŠ å›ºæ•ˆæœ**

```bash
# æ£€æŸ¥ Server å¤´
curl -I http://localhost/

# æµ‹è¯•ç¦ç”¨çš„æ–¹æ³•
curl -X TRACE http://localhost/
curl -X OPTIONS http://localhost/
```

---

### ä»»åŠ¡ 4ï¼ˆè¿›é˜¶ï¼‰ï¼šIIS å®‰å…¨åŠ å›º

**å‰ç½®æ¡ä»¶**ï¼šWindows Server æˆ– Windows 10/11 ä¸Šå·²å®‰è£… IIS

**æ­¥éª¤ 1ï¼šæ‰“å¼€ IIS ç®¡ç†å™¨**

```powershell
inetmgr
```

**æ­¥éª¤ 2ï¼šé…ç½® web.config**

åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•åˆ›å»ºæˆ–ç¼–è¾‘ `web.config`ï¼š

```xml
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>
    <!-- å…³é—­ç›®å½•æµè§ˆ -->
    <directoryBrowse enabled="false" />
    
    <!-- ç¦ç”¨ä¸å®‰å…¨çš„ HTTP æ–¹æ³• -->
    <handlers>
      <remove name="TRACEVerbHandler" />
      <remove name="OPTIONSVerbHandler" />
    </handlers>
    
    <!-- å®‰å…¨å“åº”å¤´ -->
    <httpProtocol>
      <customHeaders>
        <add name="X-Frame-Options" value="SAMEORIGIN" />
        <add name="X-Content-Type-Options" value="nosniff" />
        <add name="X-XSS-Protection" value="1; mode=block" />
      </customHeaders>
    </httpProtocol>
  </system.webServer>
</configuration>
```

**æ­¥éª¤ 3ï¼šéªŒè¯åŠ å›ºæ•ˆæœ**

```powershell
# æ£€æŸ¥å“åº”å¤´
curl -I http://localhost/

# æµ‹è¯•ç¦ç”¨çš„æ–¹æ³•
curl -X TRACE http://localhost/ -v
```

---

### ä»»åŠ¡ 5ï¼ˆå®æˆ˜ï¼‰ï¼šè‡ªåŠ¨åŒ–åŸºçº¿æ£€æŸ¥è„šæœ¬

**ç›®æ ‡**ï¼šç¼–å†™ Python è„šæœ¬è‡ªåŠ¨æ£€æŸ¥ Web æœåŠ¡å™¨å®‰å…¨é…ç½®ã€‚

```python
#!/usr/bin/env python3
"""
Web æœåŠ¡å™¨å®‰å…¨åŸºçº¿æ£€æŸ¥è„šæœ¬
æ£€æŸ¥é¡¹ç›®ï¼šç‰ˆæœ¬ä¿¡æ¯ã€å®‰å…¨å“åº”å¤´ã€HTTP æ–¹æ³•ã€ç›®å½•åˆ—å‡º
"""
import requests
import sys
from urllib.parse import urljoin

class WebSecurityChecker:
    def __init__(self, base_url):
        self.base_url = base_url.rstrip('/')
        self.issues = []
        self.passed = []
    
    def check_version_disclosure(self):
        """æ£€æŸ¥ç‰ˆæœ¬ä¿¡æ¯æ³„éœ²"""
        try:
            resp = requests.head(self.base_url, timeout=5)
            server = resp.headers.get('Server', '')
            x_powered = resp.headers.get('X-Powered-By', '')
            
            # æ£€æŸ¥ Server å¤´æ˜¯å¦åŒ…å«ç‰ˆæœ¬å·
            if any(char.isdigit() for char in server):
                self.issues.append(f"ç‰ˆæœ¬ä¿¡æ¯æ³„éœ²: Server å¤´æš´éœ²ç‰ˆæœ¬ - '{server}'")
            else:
                self.passed.append(f"ç‰ˆæœ¬ä¿¡æ¯: Server å¤´å·²éšè—ç‰ˆæœ¬å· - '{server}'")
            
            if x_powered:
                self.issues.append(f"æŠ€æœ¯æ ˆæ³„éœ²: X-Powered-By å¤´ - '{x_powered}'")
            else:
                self.passed.append("æŠ€æœ¯æ ˆ: æœªæš´éœ² X-Powered-By å¤´")
                
        except Exception as e:
            self.issues.append(f"ç‰ˆæœ¬æ£€æŸ¥å¤±è´¥: {e}")
    
    def check_security_headers(self):
        """æ£€æŸ¥å®‰å…¨å“åº”å¤´"""
        try:
            resp = requests.head(self.base_url, timeout=5)
            
            headers = {
                'X-Frame-Options': 'ç‚¹å‡»åŠ«æŒé˜²æŠ¤',
                'X-Content-Type-Options': 'MIME å—…æ¢é˜²æŠ¤',
                'X-XSS-Protection': 'XSS è¿‡æ»¤å™¨',
                'Content-Security-Policy': 'å†…å®¹å®‰å…¨ç­–ç•¥',
            }
            
            for header, desc in headers.items():
                if header in resp.headers:
                    self.passed.append(f"å®‰å…¨å¤´: {header} ({desc}) - å·²é…ç½®")
                else:
                    self.issues.append(f"å®‰å…¨å¤´ç¼ºå¤±: {header} ({desc})")
                    
        except Exception as e:
            self.issues.append(f"å®‰å…¨å¤´æ£€æŸ¥å¤±è´¥: {e}")
    
    def check_http_methods(self):
        """æ£€æŸ¥ä¸å®‰å…¨çš„ HTTP æ–¹æ³•"""
        dangerous_methods = ['TRACE', 'OPTIONS', 'PUT', 'DELETE']
        
        for method in dangerous_methods:
            try:
                resp = requests.request(method, self.base_url, timeout=5)
                if resp.status_code not in [405, 501]:
                    self.issues.append(f"å±é™©æ–¹æ³•: {method} è¢«å…è®¸ (çŠ¶æ€ç : {resp.status_code})")
                else:
                    self.passed.append(f"å±é™©æ–¹æ³•: {method} å·²ç¦ç”¨")
            except Exception:
                pass
    
    def check_directory_listing(self):
        """æ£€æŸ¥ç›®å½•åˆ—å‡º"""
        try:
            # å°è¯•è®¿é—®å¸¸è§ç›®å½•
            test_paths = ['/uploads/', '/images/', '/backup/', '/tmp/']
            
            for path in test_paths:
                url = urljoin(self.base_url, path)
                try:
                    resp = requests.get(url, timeout=5)
                    # ç®€å•åˆ¤æ–­ï¼šæ£€æŸ¥å“åº”æ˜¯å¦åŒ…å«ç›®å½•åˆ—è¡¨ç‰¹å¾
                    if 'Index of' in resp.text or 'Parent Directory' in resp.text:
                        self.issues.append(f"ç›®å½•åˆ—å‡º: {path} å¯åˆ—å‡º")
                except:
                    pass
        except Exception as e:
            self.issues.append(f"ç›®å½•åˆ—å‡ºæ£€æŸ¥å¤±è´¥: {e}")
    
    def generate_report(self):
        """ç”Ÿæˆæ£€æŸ¥æŠ¥å‘Š"""
        print("=" * 60)
        print(f"Web æœåŠ¡å™¨å®‰å…¨åŸºçº¿æ£€æŸ¥æŠ¥å‘Š")
        print(f"ç›®æ ‡: {self.base_url}")
        print("=" * 60)
        
        print(f"\nâœ… é€šè¿‡é¡¹ ({len(self.passed)})")
        for item in self.passed:
            print(f"  + {item}")
        
        print(f"\nâš ï¸  é—®é¢˜é¡¹ ({len(self.issues)})")
        for item in self.issues:
            print(f"  - {item}")
        
        print("\n" + "=" * 60)
        print(f"å®‰å…¨è¯„åˆ†: {len(self.passed) / (len(self.passed) + len(self.issues)) * 100:.1f}%")
        print("=" * 60)

def main():
    if len(sys.argv) < 2:
        print("ç”¨æ³•: python check_web_security.py <URL>")
        print("ç¤ºä¾‹: python check_web_security.py http://localhost:8080")
        sys.exit(1)
    
    url = sys.argv[1]
    checker = WebSecurityChecker(url)
    
    print("æ­£åœ¨æ£€æŸ¥ Web æœåŠ¡å™¨å®‰å…¨é…ç½®...\n")
    checker.check_version_disclosure()
    checker.check_security_headers()
    checker.check_http_methods()
    checker.check_directory_listing()
    
    checker.generate_report()

if __name__ == "__main__":
    main()
```

**è¿è¡Œè„šæœ¬**ï¼š

```bash
# å®‰è£…ä¾èµ–
pip install requests

# è¿è¡Œæ£€æŸ¥
python check_web_security.py http://localhost:8080

# é¢„æœŸè¾“å‡ºç¤ºä¾‹
============================================================
Web æœåŠ¡å™¨å®‰å…¨åŸºçº¿æ£€æŸ¥æŠ¥å‘Š
ç›®æ ‡: http://localhost:8080
============================================================

âœ… é€šè¿‡é¡¹ (4)
  + ç‰ˆæœ¬ä¿¡æ¯: Server å¤´å·²éšè—ç‰ˆæœ¬å· - 'nginx'
  + å®‰å…¨å¤´: X-Frame-Options (ç‚¹å‡»åŠ«æŒé˜²æŠ¤) - å·²é…ç½®
  + å®‰å…¨å¤´: X-Content-Type-Options (MIME å—…æ¢é˜²æŠ¤) - å·²é…ç½®
  + å±é™©æ–¹æ³•: TRACE å·²ç¦ç”¨

âš ï¸  é—®é¢˜é¡¹ (3)
  - å®‰å…¨å¤´ç¼ºå¤±: X-XSS-Protection (XSS è¿‡æ»¤å™¨)
  - å®‰å…¨å¤´ç¼ºå¤±: Content-Security-Policy (å†…å®¹å®‰å…¨ç­–ç•¥)
  - ç›®å½•åˆ—å‡º: /uploads/ å¯åˆ—å‡º

============================================================
å®‰å…¨è¯„åˆ†: 57.1%
============================================================
```

---

## å·©å›ºç»ƒä¹ ï¼ˆé¢˜ä¸å¤ç›˜ï¼‰

---

### ç»ƒä¹  1ï¼šä¸ºä»€ä¹ˆå»ºè®®éšè—ç‰ˆæœ¬ä¿¡æ¯ï¼Ÿ

**æ€è·¯æç¤º**ï¼š

- æ”»å‡»è€…å¦‚ä½•åˆ©ç”¨ç‰ˆæœ¬ä¿¡æ¯ï¼Ÿ
- éšè—ç‰ˆæœ¬ä¿¡æ¯èƒ½å®Œå…¨é˜²æ­¢æ”»å‡»å—ï¼Ÿ
- ä»€ä¹ˆæ˜¯"æ·±åº¦é˜²å¾¡"ï¼ˆDefense in Depthï¼‰ï¼Ÿ

---

### ç»ƒä¹  2ï¼šX-Frame-Options å¤´çš„ä¸‰ç§å€¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**æç¤ºå€¼**ï¼š
- `DENY`
- `SAMEORIGIN`
- `ALLOW-FROM uri`

**æ€è·¯æç¤º**ï¼š

- ç‚¹å‡»åŠ«æŒï¼ˆClickjackingï¼‰æ”»å‡»çš„åŸç†
- æ¯ç§å€¼çš„å…è®¸/æ‹’ç»è§„åˆ™
- CSP çš„ `frame-ancestors` å¦‚ä½•æ›¿ä»£ `ALLOW-FROM`

---

### ç»ƒä¹  3ï¼šé…ç½® Content-Security-Policyï¼ˆCSPï¼‰

**ä»»åŠ¡**ï¼šä¸ºä¸€ä¸ªå…è®¸åŠ è½½ Google Fonts çš„ç½‘ç«™ç¼–å†™ CSP å¤´éƒ¨ã€‚

**è¦æ±‚**ï¼š
- é»˜è®¤åªå…è®¸åŒæºèµ„æº
- å…è®¸åŠ è½½ fonts.googleapis.com å’Œ fonts.gstatic.com
- ç¦æ­¢å†…è”è„šæœ¬ï¼ˆ`unsafe-inline`ï¼‰
- å…è®¸å†…è”æ ·å¼ï¼ˆ`unsafe-inline`ï¼‰

**æ€è·¯æç¤º**ï¼š

- CSP æŒ‡ä»¤æ ¼å¼ï¼š`default-src`, `script-src`, `style-src`, `font-src`
- å¤šä¸ªåŸŸåç”¨ç©ºæ ¼åˆ†éš”
- ä½¿ç”¨ Report-Only æ¨¡å¼å…ˆæµ‹è¯•

---

### ç»ƒä¹  4ï¼šHTTP çŠ¶æ€ç ä¸å®‰å…¨åŠ å›º

**é—®é¢˜**ï¼šä»¥ä¸‹çŠ¶æ€ç åœ¨åŠ å›ºååº”è¯¥è¿”å›ä»€ä¹ˆï¼Ÿ

| HTTP æ–¹æ³• | é¢„æœŸçŠ¶æ€ç  | è¯´æ˜ |
|-----------|-----------|------|
| GET | 200 OK | âœ… å…è®¸ |
| POST | 200 OK | âœ… å…è®¸ |
| TRACE | ? | âŒ åº”ç¦æ­¢ |
| PUT | ? | âŒ åº”ç¦æ­¢ |
| OPTIONS | ? | âš ï¸ é™åˆ¶ |

**æ€è·¯æç¤º**ï¼š

- 405 Method Not Allowedï¼šæ–¹æ³•ä¸è¢«å…è®¸
- 403 Forbiddenï¼šç¦æ­¢è®¿é—®
- 501 Not Implementedï¼šæœªå®ç°ï¼ˆæœåŠ¡ç«¯ä¸æ”¯æŒè¯¥æ–¹æ³•ï¼‰

---

## è¯„ä¼°æ ‡å‡†ï¼ˆè¾¾æˆåˆ¤å®šï¼‰

- âœ… èƒ½è¯†åˆ« Web ä¸­é—´ä»¶çš„ä¸‰ç§ä¸»è¦æš´éœ²é¢ï¼ˆç›®å½•åˆ—å‡ºã€ç‰ˆæœ¬ä¿¡æ¯ã€ä¸å®‰å…¨æ–¹æ³•ï¼‰
- âœ… èƒ½ç‹¬ç«‹ä¿®æ”¹ Nginx/Apache é…ç½®å¹¶é‡å¯æœåŠ¡
- âœ… èƒ½ä½¿ç”¨ curl éªŒè¯åŠ å›ºæ•ˆæœ
- âœ… èƒ½è§£é‡Š 5 ç§ä»¥ä¸Šå®‰å…¨å“åº”å¤´çš„ä½œç”¨
- âœ… èƒ½ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬æ£€æŸ¥ Web æœåŠ¡å™¨åŸºçº¿

---

## å·©å›ºç»ƒä¹ ï¼ˆé¢˜ä¸å¤ç›˜ï¼‰
- é¢˜ç›®ï¼šä¸ºä½•å»ºè®®éšè—ç‰ˆæœ¬ä¿¡æ¯ï¼Ÿ
- ç»ƒä¹ ï¼šç»™å‡ºä¸€ä¸ªå®‰å…¨çš„åŸºç¡€é…ç½®ç¤ºä¾‹

## è¯„ä¼°æ ‡å‡†ï¼ˆè¾¾æˆåˆ¤å®šï¼‰
- é…ç½®æ–‡ä»¶ä¸éªŒè¯æˆªå›¾é½å¤‡
- âœ… èƒ½è¯´æ˜åŠ å›ºé¡¹çš„å½±å“

## å­¦ä¹ æˆæœè¾¾æˆæƒ…å†µï¼ˆç”±å­¦ä¹ è€…å¡«å†™ï¼‰

---

### æˆªå›¾ä¸è¯æ®

- [ ] åŠ å›ºå‰çš„ curl å“åº”å¤´æˆªå›¾ï¼ˆServer å¤´æš´éœ²ç‰ˆæœ¬ä¿¡æ¯ï¼‰
- [ ] åŠ å›ºåçš„ curl å“åº”å¤´æˆªå›¾ï¼ˆServer å¤´å·²éšè—ï¼‰
- [ ] ç›®å½•åˆ—å‡ºæµ‹è¯•æˆªå›¾ï¼ˆåŠ å›ºå‰/åå¯¹æ¯”ï¼‰
- [ ] HTTP æ–¹æ³•æµ‹è¯•æˆªå›¾ï¼ˆTRACE/PUT è¿”å› 405ï¼‰
- [ ] æµè§ˆå™¨å¼€å‘è€…å·¥å…·æŸ¥çœ‹å®‰å…¨å“åº”å¤´æˆªå›¾
- [ ] è‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬è¿è¡Œè¾“å‡ºæˆªå›¾

---

### å…³é”®å‘½ä»¤ä¸è¾“å‡ºï¼ˆç²˜è´´å…³é”®ç‰‡æ®µï¼‰

**åŠ å›ºå‰ Server å¤´**ï¼š
```bash
$ curl -I http://localhost/
HTTP/1.1 200 OK
Server: nginx/1.18.0 (Ubuntu)
Date: Fri, 17 Jan 2026 10:30:00 GMT
Content-Type: text/html
```

**åŠ å›ºå Server å¤´**ï¼š
```bash
$ curl -I http://localhost/
HTTP/1.1 200 OK
Server: nginx
Date: Fri, 17 Jan 2026 10:35:00 GMT
Content-Type: text/html
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
```

**ç›®å½•åˆ—å‡ºæµ‹è¯•**ï¼š
```bash
# åŠ å›ºå‰
$ curl http://localhost/uploads/
Index of /uploads/
..
backup.zip
config.php

# åŠ å›ºå
$ curl http://localhost/uploads/
<html>
<head><title>403 Forbidden</title></head>
<body>
<center><h1>403 Forbidden</h1></center>
</body>
</html>
```

**HTTP æ–¹æ³•æµ‹è¯•**ï¼š
```bash
$ curl -X TRACE http://localhost/ -v
...
< HTTP/1.1 405 Method Not Allowed
< Server: nginx
...

$ curl -X PUT http://localhost/test.txt -d "hello"
<html>
<head><title>405 Not Allowed</title></head>
...
```

---

### ç»“è®ºä¸åæ€

**æˆ‘ä»Šå¤©ææ¸…æ¥šäº†**ï¼š

- Web ä¸­é—´ä»¶çš„é»˜è®¤é…ç½®å­˜åœ¨å¤šç§å®‰å…¨é£é™©ï¼ˆç›®å½•åˆ—å‡ºã€ç‰ˆæœ¬æ³„éœ²ã€ä¸å®‰å…¨æ–¹æ³•ï¼‰
- é€šè¿‡ç®€å•çš„é…ç½®ä¿®æ”¹å¯ä»¥æ˜¾è‘—é™ä½æ”»å‡»é¢
- å®‰å…¨å“åº”å¤´ï¼ˆX-Frame-Optionsã€X-Content-Type-Options ç­‰ï¼‰å¯ä»¥é˜²å¾¡å¸¸è§ Web æ”»å‡»
- è‡ªåŠ¨åŒ–è„šæœ¬å¯ä»¥å¿«é€Ÿæ£€æŸ¥é…ç½®æ˜¯å¦ç¬¦åˆåŸºçº¿è¦æ±‚

**æˆ‘å·®ç‚¹ææ··çš„æ˜¯**ï¼š

- ä»¥ä¸º `server_tokens off` å®Œå…¨éšè— Server å¤´ï¼Œå®é™…ä¸Šåªéšè—ç‰ˆæœ¬å·
- æ··æ·†äº† Apache çš„ `Options -Indexes` å’Œ Nginx çš„ `autoindex off` è¯­æ³•
- æœ€åˆä¸ç†è§£ X-Frame-Options çš„ DENY å’Œ SAMEORIGIN çš„åŒºåˆ«

**æ˜å¤©æˆ‘è¦ç»§ç»­è¡¥çš„æ˜¯**ï¼š

- å­¦ä¹  WAFï¼ˆWeb åº”ç”¨é˜²ç«å¢™ï¼‰çš„åŸºç¡€é…ç½®ï¼ˆDay026ï¼‰
- äº†è§£ SQL æ³¨å…¥ã€XSS ç­‰å¸¸è§ Web æ¼æ´çš„é˜²æŠ¤ï¼ˆDay027-028ï¼‰
- å®æˆ˜ä½¿ç”¨å®‰å…¨æ‰«æå·¥å…·ï¼ˆNiktoã€Wappalyzer ç­‰ï¼‰

**æœ¬æ¬¡å­¦ä¹ è€—æ—¶**ï¼šçº¦ 3 å°æ—¶

**æŒæ¡ç¨‹åº¦è‡ªè¯„**ï¼š

- [ ] ğŸ˜• ç†è§£äº†åŸºæœ¬æ¦‚å¿µï¼Œä½†é…ç½®ä¸ç†Ÿç»ƒ
- [ ] ğŸ™‚ å®Œæˆäº†åŸºç¡€é…ç½®ä»»åŠ¡
- [ ] ğŸ˜ƒ å®Œæˆäº†æ‰€æœ‰ä»»åŠ¡å¹¶ç†è§£åŸç†
- [ ] ğŸ¤© ç¼–å†™äº†è‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬å¹¶ä¼˜åŒ–äº†é…ç½®

---

## é›†ä¸­å‚è€ƒç­”æ¡ˆï¼ˆå«æ€è·¯ï¼‰

---

### ç»ƒä¹  1 å‚è€ƒç­”æ¡ˆï¼šä¸ºä»€ä¹ˆå»ºè®®éšè—ç‰ˆæœ¬ä¿¡æ¯ï¼Ÿ

**æ”»å‡»è€…å¦‚ä½•åˆ©ç”¨ç‰ˆæœ¬ä¿¡æ¯**ï¼š

1. **ç²¾ç¡®åŒ¹é…å·²çŸ¥æ¼æ´**ï¼š
   - åœ¨ NVD æˆ– Exploit-DB ä¸­æœç´¢ç‰¹å®šç‰ˆæœ¬çš„ CVE
   - ä¾‹å¦‚ï¼š`nginx/1.18.0` â†’ æœç´¢ `CVE-2021-23017`

2. **å®šåˆ¶æ”»å‡» Payload**ï¼š
   - ä¸åŒç‰ˆæœ¬çš„æ¼æ´åˆ©ç”¨æ–¹å¼å¯èƒ½ä¸åŒ
   - å·²çŸ¥ç‰ˆæœ¬å·å¯ä»¥æ˜¾è‘—æé«˜æ”»å‡»æˆåŠŸç‡

3. **è¯„ä¼°ç»´æŠ¤çŠ¶å†µ**ï¼š
   - ç‰ˆæœ¬è¿‡æ—§è¯´æ˜ç³»ç»Ÿé•¿æœŸæœªæ›´æ–°
   - å¯èƒ½åŒæ—¶å­˜åœ¨å¤šä¸ªæœªä¿®å¤æ¼æ´

**éšè—ç‰ˆæœ¬ä¿¡æ¯çš„å±€é™æ€§**ï¼š

- **æŒ‡çº¹è¯†åˆ«ä»ç„¶å¯èƒ½**ï¼š
  - é€šè¿‡ HTTP å“åº”ç‰¹å¾ã€é”™è¯¯é¡µé¢ã€è¡Œä¸ºå·®å¼‚æ¨æ–­ç‰ˆæœ¬
  - ä¾‹å¦‚ï¼šNginx ä¸åŒç‰ˆæœ¬çš„ 404 é¡µé¢ç•¥æœ‰å·®å¼‚

- **ä¸æ˜¯å®Œå…¨çš„é˜²æŠ¤**ï¼š
  - å¦‚æœå­˜åœ¨æ¼æ´ï¼Œæ”»å‡»è€…å¯èƒ½é€šè¿‡æ¢æµ‹å‘ç°
  - éšè—ç‰ˆæœ¬å±äº"è½»åº¦"é˜²å¾¡æªæ–½

**æ·±åº¦é˜²å¾¡ï¼ˆDefense in Depthï¼‰ç†å¿µ**ï¼š

```
å¤šå±‚é˜²å¾¡ç­–ç•¥
â”œâ”€ ç¬¬ä¸€å±‚ï¼šéšè—ç‰ˆæœ¬ä¿¡æ¯ï¼ˆé™ä½è¢«é’ˆå¯¹æ€§æ”»å‡»çš„æ¦‚ç‡ï¼‰
â”œâ”€ ç¬¬äºŒå±‚ï¼šåŠæ—¶æ›´æ–°è¡¥ä¸ï¼ˆä¿®å¤å·²çŸ¥æ¼æ´ï¼‰
â”œâ”€ ç¬¬ä¸‰å±‚ï¼šWAF/IPSï¼ˆæ‹¦æˆªæ¶æ„è¯·æ±‚ï¼‰
â”œâ”€ ç¬¬å››å±‚ï¼šç½‘ç»œéš”ç¦»ï¼ˆé™åˆ¶è®¿é—®æ¥æºï¼‰
â””â”€ ç¬¬äº”å±‚ï¼šç›‘æ§å‘Šè­¦ï¼ˆåŠæ—¶å‘ç°å¼‚å¸¸ï¼‰
```

**ç»“è®º**ï¼šéšè—ç‰ˆæœ¬ä¿¡æ¯æ˜¯è‰¯å¥½çš„å®‰å…¨å®è·µï¼Œä½†ä¸èƒ½æ›¿ä»£åŠæ—¶æ›´æ–°å’Œè¡¥ä¸ç®¡ç†ã€‚

---

### ç»ƒä¹  2 å‚è€ƒç­”æ¡ˆï¼šX-Frame-Options å¤´çš„ä¸‰ç§å€¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**ç‚¹å‡»åŠ«æŒï¼ˆClickjackingï¼‰æ”»å‡»åŸç†**ï¼š

æ”»å‡»è€…å°†ç›®æ ‡ç½‘ç«™åµŒå…¥é€æ˜ iframeï¼Œè¯±å¯¼ç”¨æˆ·ç‚¹å‡»çœ‹ä¼¼æ— å®³çš„æŒ‰é’®ï¼Œå®é™…æ‰§è¡Œäº†æ•æ„Ÿæ“ä½œï¼ˆå¦‚è½¬è´¦ã€æˆæƒï¼‰ã€‚

```
æ”»å‡»è€…é¡µé¢
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ ç‚¹å‡»é¢†å–å…è´¹ç¤¼å“ï¼      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  iframe (é€æ˜)        â”‚  â”‚
â”‚  â”‚  [ ç¡®è®¤è½¬è´¦ ]        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ç”¨æˆ·ç‚¹å‡»"é¢†å–ç¤¼å“" â†’ å®é™…ç‚¹å‡»"ç¡®è®¤è½¬è´¦"
```

**X-Frame-Options ä¸‰ç§å€¼å¯¹æ¯”**ï¼š

| å€¼ | è§„åˆ™ | é€‚ç”¨åœºæ™¯ | ç¤ºä¾‹ |
|----|------|---------|------|
| **DENY** | ç¦æ­¢ä»»ä½•åŸŸååµŒå…¥ | é«˜å®‰å…¨æ€§éœ€æ±‚ï¼ˆå¦‚é“¶è¡Œç™»å½•é¡µï¼‰ | `<iframe src="https://bank.com">` è¢«æ‹’ç» |
| **SAMEORIGIN** | åªå…è®¸åŒæºåŸŸååµŒå…¥ | éœ€è¦åœ¨ç«™å†…ä½¿ç”¨ iframe çš„åœºæ™¯ | `example.com` å¯åµŒå…¥ `example.com` |
| **ALLOW-FROM uri** | å…è®¸æŒ‡å®šåŸŸååµŒå…¥ï¼ˆå·²åºŸå¼ƒï¼‰ | è·¨åŸŸåµŒå…¥éœ€æ±‚ï¼ˆæ—§ç‰ˆæµè§ˆå™¨ï¼‰ | å…è®¸ `trusted.com` åµŒå…¥ |

**ç¤ºä¾‹**ï¼š

```http
# DENY ç¤ºä¾‹
X-Frame-Options: DENY
# ç»“æœï¼šæ‰€æœ‰ iframe åµŒå…¥éƒ½è¢«é˜»æ­¢

# SAMEORIGIN ç¤ºä¾‹
X-Frame-Options: SAMEORIGIN
# ç»“æœï¼šä»… example.com å¯åµŒå…¥ example.com çš„é¡µé¢
# example.com åµŒå…¥ other.com è¢«é˜»æ­¢

# ALLOW-FROM ç¤ºä¾‹ï¼ˆå·²åºŸå¼ƒï¼‰
X-Frame-Options: ALLOW-FROM https://trusted.com
# ç»“æœï¼šä»… trusted.com å¯åµŒå…¥æ­¤é¡µé¢
```

**ALLOW-FROM å·²åºŸå¼ƒçš„åŸå› **ï¼š

- æµè§ˆå™¨æ”¯æŒä¸ä¸€è‡´ï¼ˆFirefoxã€Safari ä¸æ”¯æŒï¼‰
- CSP çš„ `frame-ancestors` æä¾›æ›´å¼ºå¤§çš„æ§åˆ¶

**CSP çš„ `frame-ancestors` æ›¿ä»£æ–¹æ¡ˆ**ï¼š

```http
# CSP ç¤ºä¾‹
Content-Security-Policy: frame-ancestors 'self' https://trusted.com;

# ç­‰ä»·äº
# å…è®¸åŒæº + trusted.com åµŒå…¥
```

---

### ç»ƒä¹  3 å‚è€ƒç­”æ¡ˆï¼šé…ç½® Content-Security-Policyï¼ˆCSPï¼‰

**CSP å¤´éƒ¨é…ç½®**ï¼š

```http
Content-Security-Policy: default-src 'self';
                              script-src 'self' 'unsafe-inline';
                              style-src 'self' 'unsafe-inline' fonts.googleapis.com fonts.gstatic.com;
                              font-src fonts.googleapis.com fonts.gstatic.com;
```

**é€é¡¹è§£é‡Š**ï¼š

| æŒ‡ä»¤ | å€¼ | è¯´æ˜ |
|------|-----|------|
| **default-src** | `'self'` | é»˜è®¤åªå…è®¸åŒæºèµ„æº |
| **script-src** | `'self' 'unsafe-inline'` | å…è®¸åŒæºè„šæœ¬ + å†…è”è„šæœ¬ |
| **style-src** | `'self' 'unsafe-inline' fonts.googleapis.com fonts.gstatic.com` | å…è®¸åŒæºæ ·å¼ + å†…è”æ ·å¼ + Google Fonts |
| **font-src** | `fonts.googleapis.com fonts.gstatic.com` | å…è®¸ä» Google Fonts åŠ è½½å­—ä½“ |

**å®Œæ•´ç¤ºä¾‹**ï¼ˆNginx é…ç½®ï¼‰ï¼š

```nginx
server {
    listen 80;
    server_name example.com;
    
    location / {
        add_header Content-Security-Policy "
            default-src 'self';
            script-src 'self' 'unsafe-inline';
            style-src 'self' 'unsafe-inline' fonts.googleapis.com fonts.gstatic.com;
            font-src fonts.googleapis.com fonts.gstatic.com;
            img-src 'self' data:;
        " always;
    }
}
```

**ä½¿ç”¨ Report-Only æ¨¡å¼æµ‹è¯•**ï¼š

```nginx
# å…ˆæµ‹è¯•ç­–ç•¥ï¼Œä¸å®é™…é˜»æ­¢
add_header Content-Security-Policy-Report-Only "
    default-src 'self';
    script-src 'self' 'unsafe-inline';
    style-src 'self' 'unsafe-inline' fonts.googleapis.com fonts.gstatic.com;
    font-src fonts.googleapis.com fonts.gstatic.com;
" always;

# æŠ¥å‘Šæ¥æ”¶ç«¯ç‚¹
add_header Report-To '{"group":"csp-endpoint","max_age":10886400,"endpoints":[{"url":"https://example.com/csp-report"}]}' always;
```

**CSP ç”Ÿæˆå·¥å…·**ï¼š
- Mozilla CSP Evaluator: https://csp-evaluator.withgoogle.com/
- Report URI: https://report-uri.com/

---

### ç»ƒä¹  4 å‚è€ƒç­”æ¡ˆï¼šHTTP çŠ¶æ€ç ä¸å®‰å…¨åŠ å›º

**é¢„æœŸçŠ¶æ€ç è¡¨**ï¼š

| HTTP æ–¹æ³• | é¢„æœŸçŠ¶æ€ç  | è¯´æ˜ |
|-----------|-----------|------|
| GET | 200 OK | âœ… å…è®¸æ­£å¸¸è®¿é—® |
| POST | 200 OK | âœ… å…è®¸æäº¤æ•°æ® |
| HEAD | 200 OK | âœ… å…è®¸è·å–å“åº”å¤´ |
| TRACE | 405 Method Not Allowed | âŒ åº”ç¦æ­¢ï¼ˆè·¨ç«™è¿½è¸ªæ”»å‡»ï¼‰ |
| PUT | 405 Method Not Allowed | âŒ åº”ç¦æ­¢ï¼ˆæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼‰ |
| DELETE | 405 Method Not Allowed | âŒ åº”ç¦æ­¢ï¼ˆæ–‡ä»¶åˆ é™¤æ¼æ´ï¼‰ |
| OPTIONS | 501 Not Implemented | âš ï¸ é™åˆ¶ï¼ˆæˆ–è¿”å› 405ï¼‰ |
| PATCH | 405 Method Not Allowed | âŒ åº”ç¦æ­¢ï¼ˆéœ€è®¤è¯ï¼‰ |

**çŠ¶æ€ç è¯´æ˜**ï¼š

- **405 Method Not Allowed**ï¼š
  - æœåŠ¡å™¨è¯†åˆ«è¯·æ±‚æ–¹æ³•ï¼Œä½†ä¸å…è®¸ä½¿ç”¨
  - å¸¸ç”¨äºæ˜ç¡®ç¦æ­¢æŸäº›æ–¹æ³•
  - å“åº”å¤´åŒ…å« `Allow` å­—æ®µï¼Œåˆ—å‡ºå…è®¸çš„æ–¹æ³•

- **403 Forbidden**ï¼š
  - æœåŠ¡å™¨ç†è§£è¯·æ±‚ï¼Œä½†æ‹’ç»æ‰§è¡Œ
  - å¸¸ç”¨äºæƒé™ä¸è¶³
  - å¯ç”¨äºç¦æ­¢æŸäº›æ–¹æ³•ï¼Œä½† 405 æ›´æ˜ç¡®

- **501 Not Implemented**ï¼š
  - æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚æ–¹æ³•
  - è¡¨ç¤ºæœåŠ¡ç«¯æ ¹æœ¬ä¸å®ç°è¯¥æ–¹æ³•
  - å¸¸ç”¨äº OPTIONSï¼ˆç¦ç”¨æ—¶ï¼‰

**éªŒè¯ç¤ºä¾‹**ï¼š

```bash
# 405 å“åº”ç¤ºä¾‹
$ curl -X PUT http://localhost/test.txt -v
...
< HTTP/1.1 405 Method Not Allowed
< Server: nginx
< Allow: GET, POST, HEAD
< Content-Length: 178
...

# 501 å“åº”ç¤ºä¾‹
$ curl -X OPTIONS http://localhost/ -v
...
< HTTP/1.1 501 Not Implemented
< Server: nginx
< Content-Length: 153
...
```

**æ¨èåšæ³•**ï¼š

1. ä½¿ç”¨ **405** æ˜ç¡®å‘ŠçŸ¥å®¢æˆ·ç«¯å“ªäº›æ–¹æ³•è¢«å…è®¸
2. åœ¨ `Allow` å“åº”å¤´ä¸­åˆ—å‡ºå…è®¸çš„æ–¹æ³•
3. åœ¨æœåŠ¡å™¨é…ç½®ä¸­æ˜¾å¼å…è®¸/ç¦æ­¢æ–¹æ³•ï¼Œè€Œéä¾èµ–é»˜è®¤è¡Œä¸º

**Apache é…ç½®ç¤ºä¾‹**ï¼š

```apache
# æ˜ç¡®å…è®¸çš„æ–¹æ³•
<LimitExcept GET POST HEAD>
    Require all denied
</LimitExcept>
```

---

## å­¦ä¹ æˆæœç¤ºä¾‹å¡«å†™ï¼ˆå¯ç…§æŠ„ï¼‰

> å¯å°†"ç¤ºä¾‹"å†…å®¹æ›¿æ¢ä¸ºä½ è‡ªå·±çš„æ—¶é—´ä¸æˆªå›¾æ–‡ä»¶åã€‚

---

### æˆªå›¾ä¸è¯æ®ï¼ˆç¤ºä¾‹ï¼‰

- ä»»åŠ¡ 1ï¼š`images/day025_before_headers.png`ï¼ˆåŠ å›ºå‰çš„å“åº”å¤´ï¼‰
- ä»»åŠ¡ 1ï¼š`images/day025_after_headers.png`ï¼ˆåŠ å›ºåçš„å“åº”å¤´ï¼‰
- ä»»åŠ¡ 2ï¼š`images/day025_nginx_config.png`ï¼ˆNginx é…ç½®æ–‡ä»¶ï¼‰
- ä»»åŠ¡ 5ï¼š`images/day025_script_output.png`ï¼ˆè‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬è¾“å‡ºï¼‰

---

### å…³é”®å‘½ä»¤ä¸è¾“å‡ºï¼ˆç¤ºä¾‹ï¼‰

**Nginx åŠ å›ºå‰åå¯¹æ¯”**ï¼š

```bash
# åŠ å›ºå‰
$ curl -I http://localhost:8080/
HTTP/1.1 200 OK
Server: nginx/1.18.0 (Ubuntu)
Date: Fri, 17 Jan 2026 14:30:00 GMT
Content-Type: text/html
Connection: keep-alive

# åŠ å›ºå
$ curl -I http://localhost:8080/
HTTP/1.1 200 OK
Server: nginx
Date: Fri, 17 Jan 2026 14:45:00 GMT
Content-Type: text/html
Connection: keep-alive
X-Frame-Options: SAMEORIGIN
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
```

**è‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬è¾“å‡º**ï¼š

```
============================================================
Web æœåŠ¡å™¨å®‰å…¨åŸºçº¿æ£€æŸ¥æŠ¥å‘Š
ç›®æ ‡: http://localhost:8080
============================================================

âœ… é€šè¿‡é¡¹ (6)
  + ç‰ˆæœ¬ä¿¡æ¯: Server å¤´å·²éšè—ç‰ˆæœ¬å· - 'nginx'
  + å®‰å…¨å¤´: X-Frame-Options (ç‚¹å‡»åŠ«æŒé˜²æŠ¤) - å·²é…ç½®
  + å®‰å…¨å¤´: X-Content-Type-Options (MIME å—…æ¢é˜²æŠ¤) - å·²é…ç½®
  + å®‰å…¨å¤´: X-XSS-Protection (XSS è¿‡æ»¤å™¨) - å·²é…ç½®
  + å±é™©æ–¹æ³•: TRACE å·²ç¦ç”¨
  + å±é™©æ–¹æ³•: PUT å·²ç¦ç”¨

âš ï¸  é—®é¢˜é¡¹ (1)
  - å®‰å…¨å¤´ç¼ºå¤±: Content-Security-Policy (å†…å®¹å®‰å…¨ç­–ç•¥)

============================================================
å®‰å…¨è¯„åˆ†: 85.7%
============================================================
```

---

### ç»“è®ºä¸åæ€ï¼ˆç¤ºä¾‹ï¼‰

**æˆ‘ä»Šå¤©ææ¸…æ¥šäº†**ï¼š

- Web ä¸­é—´ä»¶çš„é»˜è®¤é…ç½®å­˜åœ¨å¤šç§å®‰å…¨é£é™©ï¼Œéœ€è¦ä¸»åŠ¨åŠ å›º
- éšè—ç‰ˆæœ¬ä¿¡æ¯ã€å…³é—­ç›®å½•åˆ—å‡ºã€é™åˆ¶ HTTP æ–¹æ³•æ˜¯åŸºç¡€åŠ å›ºé¡¹
- å®‰å…¨å“åº”å¤´ï¼ˆX-Frame-Optionsã€X-Content-Type-Optionsã€CSPï¼‰å¯ä»¥é˜²å¾¡å¸¸è§ Web æ”»å‡»
- å¯ä»¥ç”¨ Python ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬å¿«é€Ÿæ£€æŸ¥é…ç½®åˆè§„æ€§

**æˆ‘å·®ç‚¹ææ··çš„æ˜¯**ï¼š

- ä»¥ä¸º `X-Frame-Options: ALLOW-FROM` æ˜¯æ¨èæ–¹å¼ï¼Œå®é™…ä¸Šå·²è¢«åºŸå¼ƒ
- æ··æ·†äº† Nginx çš„ `autoindex off` å’Œ Apache çš„ `Options -Indexes` è¯­æ³•
- æœ€åˆä¸ç†è§£ CSP çš„ `script-src 'unsafe-inline'` æ˜¯é™ä½å®‰å…¨æ€§ï¼Œä½†ä¸ºäº†å…¼å®¹æ€§ä¸å¾—å·²

**æ˜å¤©æˆ‘è¦ç»§ç»­è¡¥çš„æ˜¯**ï¼š

- å­¦ä¹  WAFï¼ˆWeb åº”ç”¨é˜²ç«å¢™ï¼‰çš„åŸºç¡€æ¦‚å¿µä¸é…ç½®ï¼ˆDay026ï¼‰
- äº†è§£ SQL æ³¨å…¥ã€XSS ç­‰å¸¸è§ Web æ¼æ´çš„æ”»å‡»ä¸é˜²å¾¡ï¼ˆDay027-028ï¼‰
- å®æˆ˜ä½¿ç”¨å®‰å…¨æ‰«æå·¥å…·ï¼ˆNiktoã€Wappalyzerã€Nucleiï¼‰

**æœ¬æ¬¡å­¦ä¹ è€—æ—¶**ï¼šçº¦ 3.5 å°æ—¶

**æŒæ¡ç¨‹åº¦è‡ªè¯„**ï¼š

- [x] ğŸ˜ƒ å®Œæˆäº†æ‰€æœ‰ä»»åŠ¡å¹¶ç†è§£åŸç†
