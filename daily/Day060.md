---
title: Day060：第二阶段综合考核 - 攻坚能力认证
tags:
  - 网络安全
  - 综合考核
  - CTF挑战
  - 面试模拟
  - 阶段收官
categories:
  - 90天安全突击
stage: 攻坚
abbrlink: d060
date: 2026-03-23
updated: 2026-01-28
---

# Day060：第二阶段综合考核 - 攻坚能力认证

## 基本信息

| 项目 | 内容 |
|------|------|
| **所属阶段** | 攻坚（第二阶段） |
| **所属周次** | Week 10：第二阶段收官 |
| **今日主题** | 综合能力考核 |
| **预计时间** | 5-6 小时 |
| **难度等级** | 挑战 |

---

## 今日痛点场景

> **场景**：面试官说："我们不看简历，直接上机考核。给你 3 小时，拿下这台服务器。另外，准备 10 分钟技术分享。"
>
> **问题**：30 天学习成果，今天见真章。
>
> **今天的任务**：完成综合考核，证明你的攻坚能力。

---

## 今日目标

- [ ] 完成综合 CTF 挑战
- [ ] 通过模拟面试
- [ ] 输出渗透测试报告
- [ ] 获得第二阶段结业评价

**闯关条件**：综合得分达到 70 分以上，获得第二阶段结业认证。

---

## 考核规则

### 总分构成

| 考核项目 | 满分 | 及格线 |
|----------|------|--------|
| CTF 挑战（实操） | 50 分 | 30 分 |
| 面试问答（理论） | 30 分 | 18 分 |
| 报告撰写（文档） | 20 分 | 12 分 |
| **总分** | **100 分** | **70 分** |

### 等级评定

| 得分范围 | 等级 | 评价 |
|----------|------|------|
| 90-100 | S | 攻坚精英 |
| 80-89 | A | 攻坚高手 |
| 70-79 | B | 攻坚合格 |
| 60-69 | C | 基础达标（需补课） |
| 60 以下 | D | 未通过（重修） |

---

## 考核一：CTF 综合挑战（50 分）

### 挑战说明

**时间限制**：3 小时

**目标**：从外部获取目标服务器的 root/SYSTEM 权限，读取 flag 文件

**推荐靶机**（任选其一）：
```
入门级（推荐新手）：
1. VulnHub - Kioptrix Level 1
2. TryHackMe - Basic Pentesting
3. HackTheBox - Lame

进阶级（推荐有经验者）：
1. VulnHub - Mr.Robot
2. TryHackMe - Buffer Overflow Prep
3. HackTheBox - Bashed
```

### 评分标准

| 检查点 | 分数 | 完成情况 |
|--------|------|----------|
| 完成信息收集，识别目标服务 | 5 分 | |
| 发现至少 1 个可利用漏洞 | 10 分 | |
| 成功获取初始 shell | 15 分 | |
| 完成权限提升到 root/SYSTEM | 15 分 | |
| 读取 flag 文件 | 5 分 | |
| **小计** | **50 分** | |

### 挑战记录

**请完整记录你的渗透过程**：

#### 阶段 1：信息收集

```
目标 IP：________________

端口扫描结果：
nmap -sV -sC -p- <target>

开放端口：
________________
________________
________________

识别的服务：
________________
________________
```

#### 阶段 2：漏洞发现

```
测试的漏洞类型：
□ SQL 注入
□ XSS
□ 文件上传
□ 命令注入
□ SSRF
□ XXE
□ 其他：________________

发现的漏洞：
漏洞类型：________________
漏洞位置：________________
验证方法：________________
```

#### 阶段 3：漏洞利用

```
利用方式：________________

获取 shell 的命令/Payload：
________________
________________

初始权限：
whoami 输出：________________
id 输出：________________
```

#### 阶段 4：权限提升

```
信息收集结果：
内核版本：________________
可用提权向量：________________

提权方法：________________

提权命令：
________________
________________

最终权限：
whoami 输出：________________
```

#### 阶段 5：获取 Flag

```
Flag 位置：________________
Flag 内容：________________
```

#### 时间记录

| 阶段 | 开始时间 | 结束时间 | 用时 |
|------|----------|----------|------|
| 信息收集 | | | |
| 漏洞发现 | | | |
| 漏洞利用 | | | |
| 权限提升 | | | |
| **总计** | | | |

---

## 考核二：模拟面试（30 分）

### 面试说明

**时间限制**：30 分钟

**方式**：自问自答或找人模拟

**评分**：每题 3 分，共 10 题

### 面试题目

**请先尝试回答，再对照参考答案评分**

---

**Q1：请介绍一下 SQL 注入的类型及其区别？**

你的回答：
```
________________
________________
________________
```

参考答案：
```
1. 联合注入（UNION）
   - 条件：有回显
   - 特点：直接获取数据

2. 报错注入
   - 条件：显示错误信息
   - 特点：利用错误信息带出数据

3. 布尔盲注
   - 条件：页面有真假两种状态
   - 特点：逐位猜解，效率低

4. 时间盲注
   - 条件：无任何回显
   - 特点：通过响应时间判断

5. 堆叠注入
   - 条件：支持多语句执行
   - 特点：可执行任意 SQL
```

自评分数：____/3

---

**Q2：XSS 和 CSRF 有什么区别？**

你的回答：
```
________________
________________
________________
```

参考答案：
```
XSS（跨站脚本）：
- 攻击目标：用户浏览器
- 利用方式：注入恶意脚本
- 影响：窃取 Cookie、劫持会话、钓鱼
- 防御：输入过滤、输出编码、CSP

CSRF（跨站请求伪造）：
- 攻击目标：服务器
- 利用方式：诱导用户发送请求
- 影响：以用户身份执行操作
- 防御：Token、SameSite Cookie、Referer 检查

关键区别：
- XSS 是执行攻击者的代码
- CSRF 是利用用户的身份
```

自评分数：____/3

---

**Q3：文件上传漏洞有哪些绕过方法？**

你的回答：
```
________________
________________
________________
```

参考答案：
```
1. 前端验证绕过
   - 禁用 JS、抓包修改

2. Content-Type 绕过
   - 修改 MIME 类型

3. 后缀名绕过
   - 大小写：.PhP
   - 双写：.pphphp
   - 特殊后缀：.phtml、.php5
   - 00 截断：.php%00.jpg

4. 内容检测绕过
   - 图片马：GIF89a + 代码
   - 文件头伪造

5. 二次渲染绕过
   - 在不被处理的区域写入代码

6. 解析漏洞
   - IIS、Apache、Nginx 解析漏洞
```

自评分数：____/3

---

**Q4：什么是 SSRF？如何利用？**

你的回答：
```
________________
________________
________________
```

参考答案：
```
SSRF（服务端请求伪造）：
- 定义：让服务器发起我们指定的请求
- 成因：用户可控的 URL 参数

利用方式：
1. 内网探测
   - 扫描内网端口和服务

2. 读取文件
   - file:///etc/passwd

3. 攻击内部服务
   - Redis、MySQL、FastCGI

4. 云服务攻击
   - 获取云元数据（169.254.169.254）

5. 协议利用
   - dict、gopher、ftp 等
```

自评分数：____/3

---

**Q5：Linux 下如何查找 SUID 文件？如何利用？**

你的回答：
```
________________
________________
________________
```

参考答案：
```
查找 SUID 文件：
find / -perm -4000 -type f 2>/dev/null

利用方法：
1. 查询 GTFOBins
   https://gtfobins.github.io/

2. 常见可利用程序：
   - find：find . -exec /bin/sh -p \; -quit
   - vim：vim -c ':!/bin/sh'
   - python：python -c 'import os; os.execl("/bin/sh","sh","-p")'
   - less/more：!/bin/sh

3. 利用原理：
   - SUID 程序以所有者权限运行
   - 如果所有者是 root，就能获得 root 权限
```

自评分数：____/3

---

**Q6：Windows 上发现 SeImpersonatePrivilege，如何提权？**

你的回答：
```
________________
________________
________________
```

参考答案：
```
检查权限：
whoami /priv

利用 Potato 系列攻击：
1. 选择合适的工具：
   - Windows 10/Server 2016+：PrintSpoofer 或 GodPotato
   - 旧版本：JuicyPotato

2. 执行提权：
   PrintSpoofer.exe -i -c cmd
   GodPotato.exe -cmd "whoami"

原理：
- SeImpersonatePrivilege 允许模拟其他用户令牌
- Potato 攻击诱使 SYSTEM 账户连接
- 捕获并使用 SYSTEM 令牌
```

自评分数：____/3

---

**Q7：什么是反序列化漏洞？危害是什么？**

你的回答：
```
________________
________________
________________
```

参考答案：
```
定义：
- 将序列化数据还原为对象时产生的漏洞
- 攻击者控制序列化数据，在反序列化时执行恶意代码

危害：
- 远程代码执行（RCE）
- 任意文件读写
- 拒绝服务

常见场景：
- PHP：__wakeup()、__destruct() 魔术方法
- Java：ObjectInputStream、各种 Gadget 链
- Python：pickle.loads()

防御：
- 避免反序列化不可信数据
- 使用安全的序列化格式（JSON）
- 更新依赖库
```

自评分数：____/3

---

**Q8：描述一次完整的渗透测试流程？**

你的回答：
```
________________
________________
________________
```

参考答案：
```
1. 信息收集
   - 被动：搜索引擎、社工库
   - 主动：端口扫描、目录枚举

2. 漏洞发现
   - 手工测试
   - 工具扫描

3. 漏洞利用
   - 获取初始访问权限

4. 权限提升
   - 从普通用户提升到管理员

5. 后渗透
   - 信息收集、凭据获取
   - 持久化、横向移动

6. 清理痕迹
   - 日志清理（在授权范围内）

7. 报告撰写
   - 漏洞描述、复现步骤、修复建议
```

自评分数：____/3

---

**Q9：如何防御 SQL 注入？**

你的回答：
```
________________
________________
________________
```

参考答案：
```
1. 参数化查询/预编译
   - 使用占位符，分离代码和数据
   - 例：PreparedStatement（Java）、PDO（PHP）

2. 输入验证
   - 白名单验证
   - 类型检查

3. 最小权限
   - 数据库账户仅授予必要权限

4. WAF
   - Web 应用防火墙拦截

5. 错误处理
   - 不显示详细错误信息

6. 编码输出
   - 特殊字符转义
```

自评分数：____/3

---

**Q10：内核漏洞利用的风险和注意事项？**

你的回答：
```
________________
________________
________________
```

参考答案：
```
风险：
1. 系统崩溃（BSOD/Kernel Panic）
2. 触发安全告警
3. 留下日志
4. 利用失败可能需要重启

注意事项：
1. 内核利用是最后手段
   - 先尝试其他方法

2. 确认版本精确匹配
   - 内核版本要完全对应

3. 测试环境验证
   - 先在相同环境测试

4. 准备备用方案
   - 有其他利用路径

5. 了解后果
   - 知道失败会发生什么
```

自评分数：____/3

---

### 面试得分汇总

| 题目 | 得分 |
|------|------|
| Q1 | /3 |
| Q2 | /3 |
| Q3 | /3 |
| Q4 | /3 |
| Q5 | /3 |
| Q6 | /3 |
| Q7 | /3 |
| Q8 | /3 |
| Q9 | /3 |
| Q10 | /3 |
| **总计** | **/30** |

---

## 考核三：报告撰写（20 分）

### 报告要求

**时间限制**：1 小时

**内容**：针对 CTF 挑战，撰写正式的渗透测试报告

### 报告模板

```markdown
# 渗透测试报告

## 基本信息

| 项目 | 内容 |
|------|------|
| 测试目标 | [靶机名称] |
| 测试时间 | [日期] |
| 测试人员 | [姓名] |
| 报告版本 | v1.0 |

## 执行摘要

[1-2 段话总结测试结果，包括发现的漏洞数量、严重程度、主要风险]

## 漏洞汇总

| 编号 | 漏洞名称 | 严重程度 | 状态 |
|------|----------|----------|------|
| 01 | [漏洞名] | 高/中/低 | 已确认 |

## 漏洞详情

### 漏洞 01：[漏洞名称]

**严重程度**：高/中/低

**漏洞描述**：
[描述漏洞是什么，影响范围]

**漏洞位置**：
[具体的 URL、参数、文件等]

**复现步骤**：
1. 第一步
2. 第二步
3. 第三步

**漏洞证据**：
[截图或命令输出]

**修复建议**：
[具体的修复方法]

## 提权过程

**初始权限**：
[获得的初始用户]

**提权方法**：
[使用的提权技术]

**最终权限**：
[root/SYSTEM]

## 总结与建议

[整体安全建议，优先级排序]

---
报告结束
```

### 评分标准

| 评分项 | 分数 | 评分标准 |
|--------|------|----------|
| 格式规范 | 4 分 | 结构清晰、格式统一 |
| 漏洞描述 | 6 分 | 描述准确、证据充分 |
| 复现步骤 | 5 分 | 步骤清晰、可复现 |
| 修复建议 | 5 分 | 建议具体、可执行 |
| **总计** | **20 分** | |

---

## 考核得分汇总

| 考核项目 | 满分 | 得分 |
|----------|------|------|
| CTF 挑战 | 50 分 | |
| 面试问答 | 30 分 | |
| 报告撰写 | 20 分 | |
| **总分** | **100 分** | |

### 评级结果

| 得分 | 等级 | 是否通过 |
|------|------|----------|
| __ 分 | __ | ☐ 通过 / ☐ 未通过 |

---

## 第二阶段学习总结

### 30 天学习统计

| 统计项 | 数量 |
|--------|------|
| 学习天数 | 30 天 |
| 学习漏洞类型 | 15+ 种 |
| 完成靶机数量 | __ 台 |
| 实际学习时长 | __ 小时 |

### 技能掌握情况

**Web 漏洞**：
- SQL 注入：☐ 熟练 / ☐ 掌握 / ☐ 了解
- XSS：☐ 熟练 / ☐ 掌握 / ☐ 了解
- 文件上传：☐ 熟练 / ☐ 掌握 / ☐ 了解
- 命令注入：☐ 熟练 / ☐ 掌握 / ☐ 了解
- SSRF：☐ 熟练 / ☐ 掌握 / ☐ 了解
- XXE：☐ 熟练 / ☐ 掌握 / ☐ 了解
- 反序列化：☐ 熟练 / ☐ 掌握 / ☐ 了解

**系统提权**：
- Linux 提权：☐ 熟练 / ☐ 掌握 / ☐ 了解
- Windows 提权：☐ 熟练 / ☐ 掌握 / ☐ 了解
- 内核漏洞：☐ 熟练 / ☐ 掌握 / ☐ 了解

### 最大收获

```
________________
________________
________________
```

### 最大挑战

```
________________
________________
________________
```

### 下阶段计划

```
________________
________________
________________
```

---

## 第三阶段预告

**第三阶段：实战演练（Day 61 - Day 90）**

```
Week 11-12：内网渗透基础
- 内网信息收集
- 横向移动技术
- 域环境攻击

Week 13-14：综合渗透
- 完整渗透流程
- 红队技术
- CTF 实战

Week 15：总收官
- 90 天总复盘
- 职业发展规划
- 终极考核
```

**第三阶段目标**：
- 掌握内网渗透技术
- 能够完成完整渗透测试
- 具备初级红队能力

---

## 学习记录

| 项目 | 内容 |
|------|------|
| 实际考核日期 | |
| CTF 挑战得分 | |
| 面试问答得分 | |
| 报告撰写得分 | |
| 总分与等级 | |
| 是否通过 | |

---

> **导师点评**：
>
> 恭喜你完成了第二阶段的学习和考核！
>
> 30 天时间，从 Web 漏洞小白成长为能够独立完成渗透测试的实践者，这是一个巨大的进步。
>
> 但这只是开始。真正的渗透测试从来不是单点漏洞利用，而是需要把所有技能串联起来：信息收集 → 漏洞发现 → 漏洞利用 → 权限提升 → 后渗透。这条链路，你需要在实战中不断打磨。
>
> 第三阶段的内网渗透会更加复杂：域环境、横向移动、权限维持……每一个都是新的挑战。
>
> **但记住：你已经掌握了最核心的技能——发现漏洞和利用漏洞的能力。接下来只是把这些技能用在更复杂的场景中**。
>
> 休息一天，然后开始第三阶段的旅程！

```bash
echo "====================================="
echo "  第二阶段考核完成！"
echo "  恭喜你成为攻坚合格的安全从业者！"
echo "====================================="
echo ""
echo "准备进入第三阶段：实战演练..."
echo "目标：掌握内网渗透，具备红队能力"
```
