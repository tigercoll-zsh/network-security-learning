---
title: Day006：网络与协议基础 - HTTP 基础
tags:
  - 网络
  - 安全
  - 学习计划
categories:
  - 网络安全
abbrlink: fc189
date: 2026-01-28
updated: 2026-01-28
---

# Day006：网络与协议基础 - HTTP 基础

- **日期**：2026-01-28
- **周次**：第 1 周
- **模块**：网络与协议基础
- **主题**：HTTP 基础
- **预计学习时间**：2 小时

---

## 🎯 学习目标

学完今天你应该能做到：

- 理解请求/响应结构与常见头部
- 掌握常见状态码（200, 301, 404, 500）的含义
- 认识明文 HTTP 的安全风险
- **理解 HTTP 协议的无状态性如何影响会话安全**
- **初步了解 HTTP 请求方法（GET/POST）在安全设计中的考量**

<!--more-->

## 📚 完整学习内容（必读）

本节包含今天需要学习的全部知识点，请认真阅读并理解。

### 一、概念理解

#### 6.1.1 HTTP 协议简介
- **HTTP（HyperText Transfer Protocol）**：超文本传输协议。
- **作用**：它是 Web 的基石，负责浏览器（客户端）和 Web 服务器（服务端）之间的“对话”。
- **无状态**：服务器记性不好，处理完一个请求就忘了，下一次请求来了就像对待新朋友一样。
- **端口**：默认使用 TCP 80 端口。

#### 6.1.2 HTTP 请求方法（动词）
- **GET**：**获取**资源（最常用，如访问网页、图片）。
- **POST**：**提交**数据（如登录、注册、上传文件）。
- **PUT**：**更新**资源（全量更新）。
- **DELETE**：**删除**资源。
- **HEAD**：只获取响应头（为了省流量，比如检查文件是否存在）。
- **OPTIONS**：查询支持的方法（CORS 跨域预检常用）。

#### 6.1.3 HTTP 状态码（黑话）
服务器用 3 位数字告诉客户端处理结果：
- **1xx（信息）**：收到请求，请继续。
- **2xx（成功）**：
  - **200 OK**：一切正常。
- **3xx（重定向）**：
  - **301 Moved Permanently**：永久搬家（浏览器会记住新地址）。
  - **302 Found**：临时搬家（下次还来旧地址找）。
- **4xx（客户端错误）**：
  - **400 Bad Request**：请求格式不对。
  - **403 Forbidden**：禁止访问（有权限也没用）。
  - **404 Not Found**：找不到资源。
- **5xx（服务端错误）**：
  - **500 Internal Server Error**：服务器代码报错了。
  - **502 Bad Gateway**：网关（如 Nginx）后面的服务器挂了。

#### 6.1.4 HTTP 头部字段
- **User-Agent**：告诉服务器我是谁（比如 Chrome 浏览器，还是 Python 爬虫）。
- **Host**：告诉服务器我想访问哪个域名（因为一个 IP 上可能有很多个网站）。
- **Content-Type**：告诉对方数据是什么格式（如 `text/html`, `application/json`）。

### 二、原理讲解

#### 6.2.1 HTTP 请求格式
一个标准的请求包长这样：
```http
POST /login HTTP/1.1          <-- 请求行：方法 + 路径 + 版本
Host: www.example.com         <-- 请求头（多行）
User-Agent: Mozilla/5.0
Content-Type: application/x-www-form-urlencoded
Content-Length: 27

username=admin&password=123   <-- 请求体（Body），与头部之间有一空行
```

#### 6.2.2 HTTP 响应格式
一个标准的响应包长这样：
```http
HTTP/1.1 200 OK               <-- 状态行：版本 + 状态码 + 原因
Date: Mon, 27 Jul 2026 12:28:53 GMT  <-- 响应头
Server: Apache/2.4.1
Content-Type: text/html; charset=utf-8
Content-Length: 138

<html>                        <-- 响应体（HTML 代码）
<head><title>Hello</title></head>
<body><h1>Welcome!</h1></body>
</html>
```

#### 6.2.3 Cookie 和 Session（身份证明）
因为 HTTP 是无状态的，为了记住“你是谁”：
- **Session**：服务器在自己这边建个档案（Session ID），记录你的登录状态。
- **Cookie**：服务器把档案号（Session ID）写在小纸条（Cookie）上发给你。你每次访问都带着这张小纸条，服务器一看就知道是你了。

#### 6.2.4 HTTP 版本演进
- **HTTP/1.0**：短连接，每次请求都要三次握手，慢。
- **HTTP/1.1**：**持久连接 (Keep-Alive)**，一次握手，多次请求。目前最主流。
- **HTTP/2**：**多路复用**，一个连接并发处理多个请求，头部压缩。
- **HTTP/3**：基于 UDP (QUIC)，解决 TCP 队头阻塞问题，秒开网页。

### 三、技术细节

#### 6.3.1 常见请求头
- **Referer**：告诉服务器我是从哪个页面点过来的（常用于防盗链）。
- **Accept**：告诉服务器我能看懂什么格式（如 `image/webp,image/png`）。
- **Authorization**：带上 Token 或账号密码。

#### 6.3.2 常见响应头
- **Location**：配合 3xx 状态码，告诉浏览器跳去哪。
- **Server**：暴露了服务器软件版本（安全风险！）。
- **Set-Cookie**：命令浏览器保存 Cookie。

#### 6.3.3 URL 编码
URL 只能包含 ASCII 字符。特殊字符（如空格、中文）必须编码。
- 空格 -> `%20` 或 `+`
- `你好` -> `%E4%BD%A0%E5%A5%BD` (UTF-8)

### 四、进阶知识（选学）

#### 6.4.1 HTTP 安全风险
- **明文传输**：你在咖啡厅连公共 Wi-Fi，黑客在旁边抓包，能直接看到你的密码。
- **无身份验证**：无法确定对方是不是真的服务器（可能是钓鱼网站）。

#### 6.4.2 HTTPS 升级
- **HTTPS = HTTP + SSL/TLS**。
- **加密**：黑客抓包只能看到乱码。
- **证书**：CA 机构颁发证书，证明 `baidu.com` 确实是百度的，不是黑客冒充的。

#### 6.4.3 HTTP 缓存机制
- **Cache-Control: max-age=3600**：浏览器，这个文件 1 小时内别再来问我了，直接用旧的。
- **Last-Modified / If-Modified-Since**：浏览器：我有这个文件，它是 10:00 修改的，现在有新的吗？服务器：没有 (304 Not Modified)，你继续用旧的吧。

### 五、本日知识点速查表

| 序号 | 核心概念 | 关键点 | 备注 |
|------|----------|--------|------|
| 1 | GET | 获取资源 | 参数在 URL 里 |
| 2 | POST | 提交数据 | 参数在 Body 里 |
| 3 | 200 | 成功 | 一切正常 |
| 4 | 404 | 未找到 | 链接失效或输错 |
| 5 | 500 | 服务器错误 | 赶紧查服务器日志 |

---

## 🗺️ 知识图谱

### 今日内容在整体知识体系中的位置

```
网络安全学习路径
├── 第 1 周：网络与协议基础
│   ├── Day005：DNS 工作流与安全
│   └── Day006：HTTP 基础与 Web 安全初步
│       ├── 核心概念：请求/响应、状态码、**明文传输、会话劫持**
│       ├── 实践技能：浏览器抓包、curl
│       └── 关联知识点：Cookie、HTTPS、RESTful
└── 后续衔接
    └── Day007：HTTPS 与加密基础
```

### 今日关键词

`HTTP` · `GET/POST` · `状态码` · `Cookie` · `抓包` · **`明文传输`** · **`会话劫持`**

---

## 🔧 实践任务（合法授权范围内）

> ⚠️ **安全提示**：所有任务必须在合法授权的实验环境中进行，禁止对未授权目标进行任何测试。

请按顺序完成以下任务：

### 任务 1：环境准备与 HTTP 请求初步分析（10 分钟）

学会使用“F12 大法”观察 HTTP 请求，并初步认识其明文传输特性。

**操作步骤**：
1.  打开 Chrome/Edge/Firefox。
2.  按 `F12` 或右键“检查”。
3.  切换到 **Network (网络)** 标签页。
4.  访问一个**非 HTTPS** 的网站（如果能找到的话，例如 `http://www.example.com`）。
5.  在 Network 列表中，找到第一个请求。点击它。
6.  查看 **Headers (标头)**，特别是 **Request Headers** 和 **Response Headers**。
7.  **思考**：在 General 部分，协议是否是 HTTP/1.1？请求方法是什么？状态码是多少？这些信息是否是明文传输的？如果传输敏感信息会怎样？
8.  截图保存。

### 任务 2：核心实验：GET 与 POST 请求的对比与安全考量（30 分钟）

通过模拟登录操作，对比 GET 和 POST 请求，理解它们在传输敏感数据时的区别。

**操作步骤**：
1.  找到一个简单的模拟登录页面（例如 DVWA 的 `Brute Force` 模块，级别设为 Low，或者本地搭建一个简单的登录表单）。
2.  打开浏览器开发者工具 (F12) 的 Network 面板。
3.  尝试使用 **GET 请求** 登录（如果应用支持）。
    - *观察*：登录凭证是否直接暴露在 URL 中？
4.  尝试使用 **POST 请求** 登录。
    - *观察*：登录凭证是否隐藏在请求体中？
5.  **思考**：GET 请求在 URL 中暴露参数会带来什么安全风险？POST 请求虽然参数在 Body 中，但 HTTP 明文传输仍然会存在什么问题？

**预期结果**：
- 结果 1：成功在浏览器中观察到 GET 和 POST 请求的区别。
- 结果 2：你能够初步理解明文 HTTP 传输敏感数据的风险。

### 任务 3：进阶挑战：Cookie 窃取模拟与会话安全思考（20 分钟）

通过浏览器开发者工具篡改 Cookie，思考会话劫持的原理。

**操作步骤**：
1.  在浏览器中登录一个非敏感的网站（最好是本地搭建的靶场，如 DVWA），确保你获得了登录态。
2.  打开开发者工具 (F12)，切换到 **Application (应用)** 标签页，找到 **Cookies**。
3.  找到该网站的 Cookie，通常会有一个 `PHPSESSID` 或类似名称的 Session ID。
4.  **思考**：如果攻击者能够窃取到你的这个 Cookie (例如通过 XSS 攻击)，他能做什么？他是否可以直接用你的 Cookie 登录你的账户而不需要密码？这对应哪种攻击（**会话劫持**）？
5.  尝试将你的 Cookie 复制给另一个人（或者另一个浏览器实例），看看是否可以直接登录。

---

## 📝 巩固练习（题目与复盘）

完成以下练习来检验你的学习效果。

### 练习 1：概念理解（5 分钟）

解释 HTTP 请求和响应的完整结构。

**参考答案**（完成后对照）：
- **请求**：请求行（方法+路径+版本）+ 请求头（键值对）+ 空行 + 请求体（数据）。
- **响应**：状态行（版本+状态码+原因）+ 响应头（键值对）+ 空行 + 响应体（数据）。

### 练习 2：HTTP 状态码与安全场景（10 分钟）

列举 5 个重要的 HTTP 状态码及其含义。
**扩展思考**：状态码 `403 Forbidden` 和 `404 Not Found` 在安全方面有何不同含义？

**参考答案**（完成后对照）：
1. **200 OK**：请求成功。
2. **301 Moved Permanently**：永久重定向。
3. **302 Found**：临时重定向。
4. **404 Not Found**：资源不存在。
5. **500 Internal Server Error**：服务器内部报错。
**扩展思考**：
-   **404 Not Found**：通常表示请求的资源不存在。在安全方面，攻击者可能会利用 404 响应来**枚举文件和目录**，寻找敏感信息。
-   **403 Forbidden**：表示服务器理解请求，但拒绝执行。这通常意味着访问权限不足。在安全方面，这可能暗示请求的资源是存在的，只是缺乏权限，攻击者可能会尝试**绕过权限验证**。

### 练习 3：HTTP 身份认证与会话安全（10 分钟）

HTTP Cookie 和 Session 的区别和联系是什么？
**扩展思考**：如果你的网站没有使用 HTTPS，Cookie 和 Session ID 可能会面临哪些安全风险？

**参考答案**（完成后对照）：
- **存储位置**：Cookie 在客户端（浏览器），Session 在服务端。
- **安全性**：Cookie 容易被窃取或伪造，Session 相对安全。
- **联系**：Session 通常依赖 Cookie 来存储 Session ID。如果浏览器禁用了 Cookie，Session 就得通过 URL 重写等方式来实现。
**扩展思考**：
-   **Cookie**：在没有 HTTPS 的情况下，Cookie（包括 Session ID）在网络中是**明文传输**的。攻击者可以通过抓包轻松窃取 Cookie，然后进行**会话劫持**，冒充用户登录网站，无需密码。
-   **Session ID**：由于 Session ID 通常通过 Cookie 传输，所以同样面临被窃取的风险。一旦 Session ID 泄露，攻击者可以轻易接管用户的会话。

### 练习 4：深度思考（10 分钟）

HTTP 协议的无状态性对于 Web 应用的安全设计带来了哪些挑战？如何解决？

**参考答案**（完成后对照）：
-   **挑战**：无状态性意味着服务器无法记住上一次请求的用户身份和状态，这使得需要维护用户登录状态、购物车、个性化设置等功能的 Web 应用开发变得复杂。
-   **解决方案**：
    -   **Cookie/Session 机制**：这是最常用的方案，通过在客户端和服务器端存储会话标识来维护状态。
    -   **Token 机制**：如 JWT (JSON Web Tokens)，每次请求都携带认证令牌，服务器根据令牌验证身份。
    -   **隐藏字段**：在表单中添加隐藏字段来传递状态信息（安全性较低）。

---

## ✅ 评估标准（达成判定）

请对照以下标准检查你的学习成果：

- [x] 能熟练使用浏览器开发者工具查看网络请求
- [x] 看到状态码能立刻反应出大概是什么问题
- [x] 清楚 GET 和 POST 的主要区别

### 自检清单

完成学习后，请检查以下项目：

- [ ] **概念理解**：能解释 Cookie 是干嘛的
- [ ] **实际应用**：能抓到百度的请求包
- [ ] **动手能力**：能用 Python 起一个简单的 Web 服务
- [ ] **时间管理**：能在 2 小时内完成今日学习内容

### 学习进度自评

| 评估项目 | 1-5 星 | 备注 |
|----------|--------|------|
| 概念理解 | ⭐⭐⭐⭐⭐ | 状态码记住了吗？ |
| 动手能力 | ⭐⭐⭐⭐⭐ | F12 用得顺手吗？ |
| 时间控制 | ⭐⭐⭐⭐⭐ | 抓包是否看花眼了？ |
| 学习兴趣 | ⭐⭐⭐⭐⭐ | 想不想知道 HTTPS 是怎么加密的？ |

---

## 📊 学习成果记录（由学习者填写）

### 学习信息

| 项目 | 内容 |
|------|------|
| 学习日期 | 2026-01-28 |
| 学习时长 | ___ 小时 |
| 完成情况 | ⬜ 已完成 / ⬜ 部分完成 / ⬜ 未完成 |

### 实践任务完成记录

| 任务 | 完成状态 | 关键证据/截图 | 用时 |
|------|----------|---------------|------|
| 任务 1 | ⬜ 已完成 / ⬜ 部分 / ⬜ 未做 | 截图：Network 面板 | ___ 分钟 |
| 任务 2 | ⬜ 已完成 / ⬜ 部分 / ⬜ 未做 | 记录：请求详情 | ___ 分钟 |
| 任务 3 | ⬜ 已完成 / ⬜ 部分 / ⬜ 未做 | 截图：404 日志 | ___ 分钟 |

### 命令/代码记录

```bash
# 记录你今天使用的命令
python -m http.server 8000
curl -v http://www.baidu.com

# 记录重要的输出结果
GET / HTTP/1.1 200 OK
```

### 今日总结与反思

**今日收获**（用 3-5 句话总结今天学到了什么）：

_例如：今天终于搞懂了 301 和 302 的区别。以前只知道 404 是找不到，今天才知道 500 是服务器挂了，502 是网关挂了，以后排查问题更有方向了。_

**遇到的问题与解决**：

_例如：在 Network 里看不到请求体，后来发现是因为我点的是 GET 请求，GET 没有 Body，POST 才有。_

**明日待深化的问题**：

_例如：HTTPS 的证书到底是怎么验证的？为什么有的证书浏览器会报红？_

---

## 💡 知识卡片速查

### 核心概念速记

| 概念 | 定义 | 举例 |
|------|------|------|
| **HTTP** | 超文本传输协议 | 快递员 |
| **User-Agent** | 用户代理 | “我是 Chrome 浏览器” |
| **Referer** | 来源页面 | “我是从 Google 搜过来的” |
| **Cookie** | 身份小纸条 | “这是我的会员卡号” |

### 常用命令速查

| 场景 | 命令 | 说明 |
|------|------|------|
| 启动服务 | `python -m http.server` | 快速开启静态文件服务器 |
| 命令行请求 | `curl -v <url>` | 查看详细的请求和响应头 |

### 常见错误与解决

| 错误现象 | 可能原因 | 解决方法 |
|----------|----------|----------|
| 403 Forbidden | 没权限或被 WAF 拦截 | 检查 Cookie 或 User-Agent |
| 405 Method Not Allowed | 方法用错了 | 比如服务器只许 POST，你用了 GET |
| 跨域 (CORS) 错误 | 域名不一致 | 后端添加 `Access-Control-Allow-Origin` |

---

## ❓ 常见问题与解答

**Q1：GET 和 POST 到底有什么区别？**

A1：
- **语义上**：GET 是获取，POST 是提交。
- **参数位置**：GET 在 URL 里（可见，不安全，有长度限制），POST 在 Body 里（相对隐蔽，无长度限制）。
- **缓存**：GET 会被浏览器主动缓存，POST 不会。

**Q2：为什么现在的网站都要用 HTTPS？**

A2：为了安全。HTTP 是明文的，就像寄明信片，路上的邮递员（运营商、黑客）都能看到内容，甚至能修改内容（比如插入广告）。HTTPS 就像寄信封，只有收件人能拆开看。

**Q3：Cookie 被禁用了怎么办？**

A3：如果用户禁用了 Cookie，传统的 Session 机制就会失效。解决方案通常是把 Session ID 放在 URL 参数里（`xxx.jsp?jsessionid=...`），或者改用 Token 机制（放在请求头 Authorization 里）。

---

## 🚀 下一步学习预告

**明日主题预告**：Day007 - 网络与协议基础：HTTPS 与加密基础

**学习重点预告**：
- 对称加密 vs 非对称加密
- 数字证书与 CA 信任链
- TLS 握手过程详解

**今日学习为明日做铺垫**：
- 今天学了明文的 HTTP，明天给它穿上铠甲（SSL/TLS），变成 HTTPS。

---

## 📖 参考资料

- 📖 官方文档：[RFC 2616 - HTTP/1.1](https://tools.ietf.org/html/rfc2616)
- 🎥 视频教程：B站搜索 "HTTP 协议详解"
- 🛠️ 实践工具：Postman / Burp Suite (接口测试神器)
- 📚 参考书籍：《图解 HTTP》 (强烈推荐，通俗易懂)

---

> 💬 **学习提示**：
> 1. 建议按照文档顺序学习，不要跳跃
> 2. 每个知识点理解后再进行下一步
> 3. 实践任务一定要亲手做，不要只看
> 4. 遇到问题先思考，再查阅资料，最后再问
> 5. 坚持每天完成学习任务并记录成果，90 天后你会感谢现在的自己！
>
> ```bash
> git add daily/Day006.md
> git commit -m "Day006: 完成学习与记录"
> ```
