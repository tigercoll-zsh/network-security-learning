---
title: Day078ï¼šçº¢è“å¯¹æŠ— - IDS/IPS ç»•è¿‡æŠ€æœ¯
tags:
  - ç½‘ç»œå®‰å…¨
  - æ¸—é€æµ‹è¯•
  - çº¢è“å¯¹æŠ—
categories:
  - 90å¤©å®‰å…¨çªå‡»
stage: å®æˆ˜æ¼”ç»ƒ
abbrlink: e99f1
date: 2026-01-28
updated: 2026-01-28
---

# Day078ï¼šçº¢è“å¯¹æŠ— - IDS/IPS ç»•è¿‡æŠ€æœ¯

## ğŸ“‹ åŸºæœ¬ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| **æ‰€å±é˜¶æ®µ** | ğŸ† å®æˆ˜æ¼”ç»ƒï¼ˆç¬¬ä¸‰é˜¶æ®µï¼‰ |
| **æ‰€å±å‘¨æ¬¡** | Week 13ï¼šçº¢è“å¯¹æŠ—ä¸é˜²å¾¡ |
| **ä»Šæ—¥ä¸»é¢˜** | IDS/IPS ç»•è¿‡æŠ€æœ¯ |
| **é¢„è®¡æ—¶é—´** | 3-4 å°æ—¶ |
| **éš¾åº¦ç­‰çº§** | â­â­â­â­â­ é«˜çº§ |

---

## ğŸ”¥ ä»Šæ—¥ç—›ç‚¹åœºæ™¯

> **åœºæ™¯**ï¼šä½ åœ¨æ¸—é€æµ‹è¯•ä¸­é‡åˆ°äº† IDS/IPSï¼Œä½ çš„æ‰«æå’Œåˆ©ç”¨å°è¯•æ€»æ˜¯è¢«é˜»æ–­æˆ–å‘Šè­¦ã€‚
>
> **é—®é¢˜**ï¼šå¦‚ä½•ç»•è¿‡è¿™äº›å®‰å…¨è®¾å¤‡ç»§ç»­æµ‹è¯•ï¼Ÿ
>
> **ä»Šå¤©çš„ä»»åŠ¡**ï¼šå­¦ä¹  IDS/IPS ç»•è¿‡æŠ€æœ¯ï¼Œç†è§£æ”»é˜²åšå¼ˆçš„æœ¬è´¨ã€‚

---

## ğŸ¯ ä»Šæ—¥ç›®æ ‡

- [ ] ç†è§£ IDS æ£€æµ‹åŸç†çš„å¼±ç‚¹
- [ ] æŒæ¡æµé‡å±‚é¢çš„ç»•è¿‡æŠ€æœ¯
- [ ] æŒæ¡åè®®å±‚é¢çš„ç»•è¿‡æŠ€æœ¯
- [ ] äº†è§£ç°ä»£ IDS çš„å¯¹æŠ—æªæ–½

**é—¯å…³æ¡ä»¶**ï¼šèƒ½å¤Ÿä½¿ç”¨è‡³å°‘ 2 ç§æŠ€æœ¯ç»•è¿‡åŸºæœ¬çš„ IDS è§„åˆ™ã€‚

---

## âš”ï¸ å®æˆ˜ä»»åŠ¡ï¼ˆå…ˆåŠ¨æ‰‹ï¼ï¼‰

### ä»»åŠ¡ 1ï¼šç†è§£ IDS æ£€æµ‹å¼±ç‚¹ï¼ˆ30 åˆ†é’Ÿï¼‰

**IDS æ£€æµ‹çš„å±€é™æ€§**ï¼š

| å±€é™æ€§ | è¯´æ˜ | åˆ©ç”¨æ–¹å¼ |
|--------|------|----------|
| ç‰¹å¾ä¾èµ– | åªèƒ½æ£€æµ‹å·²çŸ¥æ¨¡å¼ | å˜å½¢ã€ç¼–ç  |
| æ€§èƒ½é™åˆ¶ | é«˜æµé‡ä¸‹å¯èƒ½ä¸¢åŒ… | æµé‡æ´ªæ°´ |
| çŠ¶æ€ç®¡ç† | è¿æ¥è·Ÿè¸ªæœ‰é™ | åˆ†ç‰‡ã€ä¹±åº |
| åè®®è§£æ | è§£æèƒ½åŠ›æœ‰é™ | åè®®å¼‚å¸¸ |

**ç»•è¿‡æ€è·¯æ¡†æ¶**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 IDS ç»•è¿‡æŠ€æœ¯                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æµé‡å±‚é¢      â”‚   åè®®å±‚é¢      â”‚   åº”ç”¨å±‚é¢      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ åˆ†ç‰‡          â”‚ â€¢ å¤§å°å†™å˜æ¢    â”‚ â€¢ ç¼–ç ç»•è¿‡      â”‚
â”‚ â€¢ ä¹±åº          â”‚ â€¢ ç©ºæ ¼/æ³¨é‡Š     â”‚ â€¢ åŠ å¯†é€šä¿¡      â”‚
â”‚ â€¢ TTL æ¬ºéª—      â”‚ â€¢ è·¯å¾„å˜å½¢      â”‚ â€¢ åˆæ³•é€šé“      â”‚
â”‚ â€¢ ä½é€Ÿæ‰«æ      â”‚ â€¢ å‚æ•°æ±¡æŸ“      â”‚ â€¢ åŸŸå‰ç½®        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ä»»åŠ¡ 2ï¼šæµé‡å±‚ç»•è¿‡æŠ€æœ¯ï¼ˆ50 åˆ†é’Ÿï¼‰

**1. IP åˆ†ç‰‡ç»•è¿‡**

åŸç†ï¼šå°†æ”»å‡»è½½è·åˆ†æ•£åˆ°å¤šä¸ª IP åˆ†ç‰‡ä¸­

```bash
# ä½¿ç”¨ fragroute è¿›è¡Œåˆ†ç‰‡
# å®‰è£…
sudo apt install fragroute

# é…ç½®åˆ†ç‰‡è§„åˆ™
echo "ip_frag 8" > /etc/fragroute.conf

# å¯åŠ¨åˆ†ç‰‡
sudo fragroute -f /etc/fragroute.conf target_ip
```

**2. Nmap ç»•è¿‡æŠ€æœ¯**

```bash
# åˆ†ç‰‡æ‰«æ
nmap -f target_ip

# ä½¿ç”¨è¯±é¥µ
nmap -D RND:10 target_ip

# æŒ‡å®šæºç«¯å£ï¼ˆä¼ªè£…ä¸º DNS æµé‡ï¼‰
nmap --source-port 53 target_ip

# æ…¢é€Ÿæ‰«æ
nmap -T0 target_ip

# ç»„åˆä½¿ç”¨
nmap -f -D RND:5 --source-port 53 -T2 target_ip
```

**3. TTL æ¬ºéª—**

åŸç†ï¼šåˆ©ç”¨ IDS å’Œç›®æ ‡ä¸»æœºä¹‹é—´çš„ TTL å·®å¼‚

```
æ”»å‡»è€… â”€â”€â”€â”€â”€â†’ IDS â”€â”€â”€â”€â”€â†’ ç›®æ ‡
   â”‚            â”‚          â”‚
   â””â”€â”€ TTL=2 â”€â”€â”€â”˜          â”‚
         â†“                 â”‚
      (IDS çœ‹åˆ°)            â”‚
   â””â”€â”€ TTL=10 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚
                    (ç›®æ ‡æ”¶åˆ°)
```

---

### ä»»åŠ¡ 3ï¼šåè®®å±‚ç»•è¿‡æŠ€æœ¯ï¼ˆ50 åˆ†é’Ÿï¼‰

**1. HTTP ç»•è¿‡æŠ€æœ¯**

```bash
# å¤§å°å†™å˜æ¢
/admin/login.php â†’ /AdMiN/LoGiN.pHp

# è·¯å¾„å˜å½¢
/admin/../admin/login.php
/./admin/login.php
/admin/./login.php

# URL ç¼–ç 
/admin â†’ /%61%64%6d%69%6e

# åŒé‡ç¼–ç 
/admin â†’ /%2561%2564%256d%2569%256e

# ç©ºæ ¼å’Œæ³¨é‡Šï¼ˆSQL æ³¨å…¥ï¼‰
' OR 1=1 â†’ '/**/OR/**/1=1
' OR 1=1 â†’ '+OR+1=1
' OR 1=1 â†’ '%27%20OR%201=1
```

**2. HTTP å‚æ•°æ±¡æŸ“ï¼ˆHPPï¼‰**

```
åŸå§‹è¯·æ±‚ï¼š
/search?q=<script>alert(1)</script>

HPP ç»•è¿‡ï¼š
/search?q=<script>&q=alert(1)&q=</script>
```

**3. åˆ†å—ä¼ è¾“ç¼–ç **

```http
POST /upload HTTP/1.1
Host: target.com
Transfer-Encoding: chunked

3
<sc
4
ript
1
>
0

```

---

### ä»»åŠ¡ 4ï¼šåº”ç”¨å±‚ç»•è¿‡æŠ€æœ¯ï¼ˆ40 åˆ†é’Ÿï¼‰

**1. åŠ å¯†é€šä¿¡**

```bash
# ä½¿ç”¨ HTTPS é¿å¼€æ˜æ–‡æ£€æµ‹
# C2 é€šä¿¡èµ° HTTPS

# ä½¿ç”¨éæ ‡å‡†ç«¯å£çš„ TLS
openssl s_server -accept 8443 -cert cert.pem -key key.pem
```

**2. åŸŸå‰ç½®ï¼ˆDomain Frontingï¼‰**

åŸç†ï¼šåˆ©ç”¨ CDN éšè—çœŸå® C2 åœ°å€

```
TLS SNI: allowed-domain.com
HTTP Host: evil-c2.com
```

**3. åˆæ³•æœåŠ¡éš§é“**

```bash
# åˆ©ç”¨ DNS éš§é“
# åˆ©ç”¨ ICMP éš§é“
# åˆ©ç”¨ HTTP/HTTPS éš§é“

# ç¤ºä¾‹ï¼šDNS éš§é“
iodine -f domain.com 10.0.0.1
```

**4. åè®®ä¼ªè£…**

```bash
# å°† C2 æµé‡ä¼ªè£…æˆæ­£å¸¸ HTTP æµé‡
# Cobalt Strike Malleable C2 Profile
```

---

## âœ… ä»Šæ—¥é—¯å…³æ£€æŸ¥

| æ£€æŸ¥é¡¹ | çŠ¶æ€ |
|--------|------|
| ç†è§£ IDS æ£€æµ‹å±€é™æ€§ | â¬œ |
| Nmap ç»•è¿‡æŠ€æœ¯å®æ“æˆåŠŸ | â¬œ |
| HTTP ç»•è¿‡æŠ€æœ¯ç†è§£ | â¬œ |
| äº†è§£åŠ å¯†ç»•è¿‡æ–¹å¼ | â¬œ |

---

## ğŸ“– åº•å±‚è¡¥è¯¾ï¼ˆåšå®Œå®éªŒå†çœ‹ï¼‰

### æ”»é˜²åšå¼ˆçš„æœ¬è´¨

| çº¢é˜ŸæŠ€æœ¯ | è“é˜Ÿå¯¹ç­– |
|----------|----------|
| åˆ†ç‰‡ç»•è¿‡ | åˆ†ç‰‡é‡ç»„åæ£€æµ‹ |
| ç¼–ç ç»•è¿‡ | å¤šå±‚è§£ç  |
| åŠ å¯†é€šä¿¡ | SSL è§£å¯†æ£€æµ‹ |
| åŸŸå‰ç½® | SNI æ£€æµ‹ |
| æ…¢é€Ÿæ”»å‡» | é•¿å‘¨æœŸè¡Œä¸ºåˆ†æ |

### ç°ä»£ IDS çš„è¿›åŒ–

1. **æ·±åº¦åŒ…æ£€æµ‹ï¼ˆDPIï¼‰**ï¼šåè®®è§£æ + å†…å®¹æ£€æµ‹
2. **SSL/TLS æ£€æµ‹**ï¼šä¸­é—´äººè§£å¯†
3. **æœºå™¨å­¦ä¹ **ï¼šå¼‚å¸¸è¡Œä¸ºæ£€æµ‹
4. **æ²™ç®±åˆ†æ**ï¼šæœªçŸ¥æ ·æœ¬åˆ†æ

---

## âš ï¸ é¿å‘æŒ‡å—

| å‘ç‚¹ | ç—‡çŠ¶ | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| è¿‡åº¦ç»•è¿‡ | æ•ˆç‡ä½ä¸‹ | å…ˆç¡®è®¤æ˜¯å¦æœ‰ IDS |
| æŠ€æœ¯è¿‡æ—¶ | ç»•è¿‡å¤±è´¥ | äº†è§£ç›®æ ‡ IDS ç‰ˆæœ¬ |
| ç•™ä¸‹ç—•è¿¹ | è¢«æº¯æº | æ³¨æ„ OPSEC |

---

## ğŸ’¡ çŸ¥è¯†å¡ç‰‡é€ŸæŸ¥

### å¸¸ç”¨ç»•è¿‡æŠ€æœ¯

| å±‚é¢ | æŠ€æœ¯ | å·¥å…·/æ–¹æ³• |
|------|------|-----------|
| ç½‘ç»œå±‚ | åˆ†ç‰‡ | fragroute, nmap -f |
| ç½‘ç»œå±‚ | è¯±é¥µ | nmap -D |
| åº”ç”¨å±‚ | ç¼–ç  | URL encode, Base64 |
| åº”ç”¨å±‚ | åŠ å¯† | HTTPS, DNS-over-HTTPS |

---

## ğŸš€ æ˜æ—¥é¢„å‘Š

**Day 079ï¼šçº¢è“å¯¹æŠ— - å®‰å…¨åŠ å›º Checklist**

æ˜å¤©ä½ å°†ï¼š
- å­¦ä¹ ç³»ç»Ÿå®‰å…¨åŠ å›ºæ–¹æ³•
- åˆ¶å®šå®‰å…¨åŠ å›ºæ¸…å•
- ä»é˜²å¾¡è§’åº¦å®Œå–„å®‰å…¨é…ç½®

---

## ğŸ“Š å­¦ä¹ è®°å½•ï¼ˆå­¦ä¹ è€…å¡«å†™ï¼‰

| é¡¹ç›® | å†…å®¹ |
|------|------|
| å®é™…å­¦ä¹ æ—¥æœŸ | ____å¹´__æœˆ__æ—¥ |
| å®é™…ç”¨æ—¶ | ____ å°æ—¶ |
| é‡åˆ°çš„é—®é¢˜ | |
| è§£å†³æ–¹æ³• | |
| ä»Šæ—¥æ”¶è· | |
| è‡ªè¯„åˆ†æ•° | â­â­â­â­â­ (1-5æ˜Ÿ) |

---

> ğŸ’¬ **å¯¼å¸ˆç‚¹è¯„**ï¼š
>
> ç»•è¿‡æŠ€æœ¯æ˜¯æ”»é˜²å¯¹æŠ—çš„æ ¸å¿ƒã€‚
>
> ä½†è®°ä½ï¼šäº†è§£ç»•è¿‡æ˜¯ä¸ºäº†æ›´å¥½åœ°é˜²å¾¡ï¼Œä¸æ˜¯ä¸ºäº†åšåäº‹ã€‚
>
> ä½œä¸ºè“é˜Ÿï¼Œä½ çŸ¥é“è¿™äº›ç»•è¿‡æŠ€æœ¯åï¼Œæ‰èƒ½æ›´å¥½åœ°è°ƒä¼˜ä½ çš„æ£€æµ‹è§„åˆ™ã€‚
>
> æ”»é˜²æ˜¯ç›¸äº’ä¿ƒè¿›çš„ï¼Œè¿™å°±æ˜¯çº¢è“å¯¹æŠ—çš„æ„ä¹‰ã€‚

```bash
echo "Day 078 Complete! IDS/IPS ç»•è¿‡æŠ€æœ¯æŒæ¡ï¼"
```
